<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Tool Box - Minh Triet</title>
    
    <!-- SEO Meta Tags -->
    <meta name="description" content="AI Toolbox - Simple AI tools for beginners, helping you select the right tool for your needs and quickly adapt to AI through tips on direct questioning, simple questioning, and effective AI usage strategies.">
    <meta name="keywords" content="Tổng hợp công cụ AI, AI Tools, AI Toolbox, AI cho người mới, Mẹo sử dụng AI, Tư duy AI, Hỏi AI hiệu quả, Công cụ trí tuệ nhân tạo, AI hỗ trợ viết lách, AI tạo hình ảnh, AI tạo video, AI học tập, AI lập trình, EdTech, Chuyển đổi số, Tối ưu hiệu suất, Microservices, Học máy, Học sâu, Xử lý ngôn ngữ tự nhiên">
    <meta name="author" content="Nguyen Minh Triet">
    <meta name="robots" content="index, follow">
    <link rel="canonical" href="https://minhtriet.online">
    
    <!-- Open Graph / Facebook -->    <!-- LinkedIn (uses Open Graph tags, so already covered above; no additional specific tags needed) -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://minhtriet.online/ivs-aitool.html">
    <meta property="og:title" content="AI Toolbox - Minh Triet">
    <meta property="og:description" content="Find the right AI tool for your needs. Simple, effective, and verified. Discover tips for effective AI usage and explore a curated collection of AI tools for writing, image generation, video creation, learning, and coding.">
    <meta property="og:image" content="https://minhtriet.online/images/og-image.webp">
    <meta property="og:image:alt" content="AI Toolbox - Minh Triet">
    <meta property="og:site_name" content="MinhTriet.online">
    
    <!-- Twitter -->
    <meta name="twitter:card" content="summary_large_image">
    <meta property="twitter:url" content="https://minhtriet.online/ivs-aitool.html">
    <meta property="twitter:title" content="AI Toolbox - Minh Triet">
    <meta property="twitter:description" content="Find the right AI tool for your needs. Simple, effective, and verified. Explore curated AI tools and tips for writing, images, videos, learning, and coding.">
    <meta property="twitter:image" content="https://minhtriet.online/images/og-image.webp">
    <meta property="twitter:image:alt" content="AI Toolbox - Minh Triet">  
   
    <!-- Resource Hints -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="preconnect" href="https://cdn.tailwindcss.com">
    
    <!-- Favicon -->
    <link rel="icon" type="image/svg+xml" href="./images/favicon.svg">
    <link rel="apple-touch-icon" href="./images/apple-touch-icon.png">
    
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;900&display=swap" rel="stylesheet">
    <style>
        /* --- 1. GLOBAL STYLES (MODERN DARK MODE BASE) --- */
        :root {
            --color-primary: #8B5CF6; /* Purple 500 */
            --color-secondary: #4F46E5; /* Indigo 600 */
            --color-bg-dark: #121217;
            --color-card-bg: #1e1e26;
            --color-text-light: #E0E0E0;
            --color-text-subtle: #9CA3AF;
        }
        body {
            font-family: 'Inter', sans-serif;
            /* Nền tối sâu hơn: Deep Charcoal */
            background: var(--color-bg-dark); 
            color: var(--color-text-light); 
            min-height: 100vh;
            transition: background-color 0.3s;
        }

        /* Hiệu ứng Glass/Blur cho nền (tùy chọn) */
        .glass-effect {
            backdrop-filter: blur(8px);
            background-color: rgba(30, 30, 38, 0.6); /* Card background with transparency */
            border: 1px solid rgba(255, 255, 255, 0.05);
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.4);
        }

        /* Custom gradient section title (Chữ màu sắc rực rỡ trên nền tối) */
        .section-title {
            background: linear-gradient(90deg, #3B82F6, #8B5CF6, #EC4899); /* Blue -> Purple -> Pink */
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            font-weight: 900;
        }
        
        /* Subtle Glow Animation for emphasis */
        @keyframes subtle-glow {
            0% { box-shadow: 0 0 5px rgba(var(--color-primary), 0.2); }
            50% { box-shadow: 0 0 15px rgba(139, 92, 246, 0.4); }
            100% { box-shadow: 0 0 5px rgba(139, 92, 246, 0.2); }
        }
        .animate-glow-slow {
            animation: subtle-glow 4s infinite ease-in-out;
        }

        /* --- 2. CARD & BUTTON STYLES --- */

        /* Tool card - Nâng cấp hiệu ứng 3D nhẹ khi hover */
        .tool-card {
            transition: all 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            border-left: 4px solid transparent;
            border-radius: 0.75rem; 
            background: var(--color-card-bg); 
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
            position: relative;
            overflow: hidden;
            /* Nâng cấp: Hiệu ứng Shimmering Border */
            --border-color: rgba(139, 92, 246, 0.0);
            border: 1px solid var(--border-color);
        }
        .tool-card:hover {
            transform: translateY(-8px) scale(1.03);
            box-shadow: 0 25px 50px rgba(139, 92, 246, 0.35);
            /* Thay đổi màu border khi hover */
            border-left-color: var(--color-primary); 
            --border-color: rgba(139, 92, 246, 0.5);
            border: 1px solid var(--border-color);
        }

        /* Active filter button - Nút lọc chính */
        .usecase-btn.active {
            background: linear-gradient(90deg, var(--color-secondary), var(--color-primary));
            color: white;
            box-shadow: 0 6px 20px rgba(79, 70, 229, 0.6);
            font-weight: 700;
            transform: translateY(-3px);
            border: 2px solid #fff;
        }
        .usecase-btn {
            transition: all 0.3s;
            border: 2px solid transparent;
            background-color: #333333;
            color: var(--color-text-light);
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
            /* Hiệu ứng Scale nhẹ khi hover */
        }
        .usecase-btn:hover:not(.active) {
            background-color: #4a4a4a;
            transform: scale(1.05);
        }

        /* Secondary Filter / Tags */
        .filter-btn {
            background-color: #333333 !important;
            color: var(--color-text-subtle) !important;
            transition: all 0.2s;
        }
        .filter-btn.active {
            background-color: var(--color-primary) !important;
            color: white !important;
            box-shadow: 0 0 10px rgba(139, 92, 246, 0.5);
            font-weight: 600;
        }
        .filter-buttons-scroll {
            /* Tăng kích thước cuộn ngang trên mobile */
            overflow-x: auto;
            white-space: nowrap;
            -webkit-overflow-scrolling: touch;
        }
        
        /* Hiệu ứng card Concept */
        .concept-card {
            background: var(--color-card-bg);
            border-left: 4px solid var(--color-primary);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.4);
        }
        .concept-card > div > div {
            background: #2b2b2b !important;
            border: 1px solid rgba(255, 255, 255, 0.05) !important;
        }

        /* Navbar Tối */
        .navbar-container {
            background-color: #1a1a1e;
            border-bottom: 1px solid #333;
        }
        /* Style mới cho nút Trang chủ: tương phản cao */
        .home-link-small {
             color: #FFD700; /* Vàng/Gold */
             font-weight: 900;
             transition: color 0.3s;
        }
        .home-link-small:hover {
             color: #FFB300;
        }

        /* Nút điều hướng nhanh (Landing Links) */
        .nav-link-item {
            color: var(--color-text-light);
            transition: color 0.3s;
            /* Thiết lập kích thước font hợp lý cho mobile */
            font-size: 0.75rem; /* Rất nhỏ gọn */
        }
        .nav-link-item:hover {
            color: var(--color-primary);
        }


        /* Tips QUAN TRỌNG */
        .important-tips-container {
            background-color: #36291a; 
            color: #FFECB3; 
            border-color: #FF9800;
        }
        
        /* Modal Animation */
        .modal.visible {
            visibility: visible;
            opacity: 1;
            transition: opacity 0.3s ease-out;
        }
        .modal-content {
            transition: transform 0.3s ease-out;
        }
        .modal.visible .modal-content {
             transform: translateY(0);
        }

        /* Iframe Container Styling */
        .iframe-container {
            height: 600px; /* Chiều cao cố định cho iframe */
            border-radius: 0.75rem;
            overflow: hidden;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
        }
        .iframe-container iframe {
            width: 100%;
            height: 100%;
            border: none;
        }
        
        /* Feature Tags Styling */
        .feature-tag {
            display: inline-flex;
            align-items: center;
            padding: 0.25rem 0.6rem;
            border-radius: 9999px;
            font-size: 0.75rem;
            font-weight: 500;
            margin-right: 0.5rem; 
            margin-bottom: 0.4rem; 
            white-space: nowrap;
            transition: background-color 0.2s, color 0.2s;
        }
        .feature-best { background-color: #8B5CF6; color: white; } /* Purple/Tím */
        .feature-free { background-color: #10B981; color: white; } /* Emerald/Xanh lá */
        .feature-speed { background-color: #3B82F6; color: white; } /* Blue/Xanh dương */
        .feature-context { background-color: #EC4899; color: white; } /* Pink/Hồng */
        .feature-expensive { background-color: #EF4444; color: white; } /* Red/Đỏ */
        .feature-default { background-color: #4A5568; color: #E2E8F0; } /* Dark Gray/Xám đậm */
        
        /* Hiệu ứng Hover cho Tool Card Title */
        .tool-card h3 {
            transition: color 0.3s;
        }
        .tool-card:hover h3 {
            color: var(--color-primary);
        }

        /* Style cho phần AI Analyzer (đã gỡ) */
        .analyzer-container {
            background-color: #1a1a1e;
            border: 2px solid var(--color-secondary);
        }
        .analyzer-result {
            min-height: 200px;
            background-color: #1e1e26;
            border: 1px solid #333;
            white-space: pre-wrap; /* Quan trọng để giữ định dạng markdown */
        }

        /* --- HERO VIDEO STYLES (MOBILE FIRST) --- */
        .hero-video-container {
            position: relative;
            /* CHỈNH SỬA: Đặt chiều cao container bằng 75% viewport height để tràn màn hình */
            height: 75vh; 
            min-height: 450px; 
            overflow: hidden;
            /* Đảm bảo container này kéo dài hết màn hình */
            width: 100%; 
            margin: 0; 
            padding: 0;
        }
        /* Mobile styles for hero-video */
        @media (max-width: 767px) {
            .hero-video {
            position: absolute;
            top: 50%;
            left: 50%;
            /* Đảm bảo video luôn phủ kín container, cắt bỏ phần thừa */
            min-width: 70%;
            min-height: 60%;
            width: auto;
            height: auto;
            transform: translate(-50%, -50%);
            object-fit: cover; /* Đảm bảo video luôn phủ kín và không bị biến dạng */
            }
        }

        /* Desktop styles for hero-video */
        @media (min-width: 768px) {
            .hero-video {
            position: absolute;
            top: 50%;
            left: 50%;
            /* Đảm bảo video luôn phủ kín container, cắt bỏ phần thừa */
            min-width: 130%;
            min-height: 100%;
            width: auto;
            height: auto;
            transform: translate(-50%, -50%);
            object-fit: cover; /* Đảm bảo video luôn phủ kín và không bị biến dạng */
            }
        }

        /* Lớp phủ mờ tối trên video để đảm bảo text dễ đọc */
        .hero-overlay {
            position: absolute;
            inset: 0;
            z-index: 1;
            /* Thêm gradient subtle để có vẻ chuyên nghiệp hơn */
            background: linear-gradient(15deg, rgba(18, 18, 23, 0.4) 0%, rgba(18, 18, 23, 0.8) 50%);
        }

        .hero-content-wrapper {
            position: relative;
            z-index: 2;
            height: 100%; /* Đảm bảo nội dung căn giữa được theo chiều dọc */
        }

        /* Desktop adjustments for video height */
        @media (min-width: 768px) {
            .hero-video-container {
                /* CHỈNH SỬA: Đặt chiều cao lớn hơn cho desktop */
                height: 85vh; /* Thêm 10% chiều cao cho desktop */
                min-height: 600px;
            }
            .hero-overlay {
                 background: linear-gradient(180deg, rgba(18, 18, 23, 0.2) 0%, rgba(18, 18, 23, 0.7) 100%);
            }
        }
        
        /* Mobile Navbar Layout Fix: Dùng Flex để sắp xếp 3 phần */
        .mobile-navbar-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
            width: 100%;
        }
        
        /* --- FAB Styles (Floating Action Button) --- */
        #fab-menu-btn {
            position: fixed;
            bottom: 1.5rem;
            right: 1.5rem;
            z-index: 100;
            width: 3.5rem;
            height: 3.5rem;
            background: var(--color-primary);
            color: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 8px 20px rgba(139, 92, 246, 0.6);
            transition: all 0.3s ease;
            cursor: pointer;
        }

        #fab-menu-btn:hover {
            transform: scale(1.1);
            background: var(--color-secondary);
        }
        
        /* BỔ SUNG: Nút Scroll To Top */
        #scroll-to-top-btn {
            position: fixed;
            bottom: 6rem; /* Đặt trên nút FAB Menu (1.5rem + 3.5rem + khoảng cách 1rem) */
            right: 1.5rem;
            z-index: 100;
            width: 3.5rem;
            height: 3.5rem;
            background: #FFD700; /* Màu vàng tương phản */
            color: var(--color-bg-dark);
            border-radius: 50%;
            display: none; /* Mặc định ẩn */
            align-items: center;
            justify-content: center;
            box-shadow: 0 8px 20px rgba(255, 215, 0, 0.6);
            transition: opacity 0.3s ease, transform 0.3s ease;
            cursor: pointer;
            border: 2px solid white;
        }
        #scroll-to-top-btn:hover {
            transform: scale(1.1);
            background: #FFB300;
        }

        /* FAB Navigation Menu (Full screen overlay) */
        #fab-nav-menu {
            position: fixed;
            inset: 0;
            background: rgba(18, 18, 23, 0.95);
            z-index: 99;
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.3s ease-in-out;
            transform: scale(1.05);
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
        }
        
        #fab-nav-menu.active {
            opacity: 1;
            pointer-events: auto;
            transform: scale(1);
        }

        .fab-menu-link {
            /* CHỈNH SỬA: Giảm font size cho FAB link */
            font-size: 1.25rem; /* Tương đương text-2xl/20px, nhỏ hơn 1.8rem trước đây */
            font-weight: 700;
            color: var(--color-text-light);
            padding: 0.75rem 0; /* Giảm padding */
            transition: color 0.2s, transform 0.2s;
        }
        .fab-menu-link:hover {
            color: var(--color-primary);
            transform: translateX(10px);
        }
        
        /* Close button on the Menu */
        #fab-close-btn {
            position: absolute;
            top: 2rem;
            right: 2rem;
            color: white;
            font-size: 3rem;
            cursor: pointer;
        }
        
        /* --- FONT SIZE OPTIMIZATION (MOBILE FIRST) --- */
        /* Giảm font chữ cho các nút lọc chính */
        #useCaseButtons .usecase-btn {
            font-size: 0.9rem; /* sm:text-base (16px) -> 14.4px */
            padding: 0.5rem 0.75rem; /* Giảm padding */
        }
/* ... (giữ nguyên các styles font khác) ... */
        /* Desktop adjustment: Tăng nhẹ lại cho Desktop (min-width: 768px) */
        @media (min-width: 768px) {
            #tool-list-section h2 {
                font-size: 2rem; /* text-3xl */
            }
            #useCaseButtons .usecase-btn {
                font-size: 1rem; /* text-base */
                padding: 0.65rem 1rem;
            }
            .filter-btn {
                font-size: 0.875rem !important; /* text-sm */
                padding: 0.375rem 0.875rem !important;
            }
            .important-tips-container {
                font-size: 1rem; /* text-base */
            }
        }
        
    </style>
</head>
<body class="text-gray-200">

    <!-- FAB NAVIGATION MENU (OVERLAY) -->
    <div id="fab-nav-menu" class="fixed inset-0 bg-black bg-opacity-95 flex-col justify-center items-center p-8 hidden">
        <button id="fab-close-btn" onclick="toggleFabMenu()" aria-label="Close Menu">&times;</button>
        <!-- Updated FAB Menu Title -->
        <h2 class="text-3xl font-black mb-10 text-purple-400" data-lang-key="fab_menu_title">Quick Navigation</h2>
        <nav class="flex flex-col text-center space-y-4">
            <!-- Updated FAB Menu Links -->
            <a href="#tool-list-section" class="fab-menu-link" onclick="toggleFabMenu()">
                <span data-lang-key="fab_link_tools">AI Tools Hub 🛠️</span>
            </a>
            <a href="#concept-section" class="fab-menu-link" onclick="toggleFabMenu()">
                <span data-lang-key="fab_link_concepts">AI Concepts 🧠</span>
            </a>
            <a href="#leaderboard-section" class="fab-menu-link" onclick="toggleFabMenu()">
                <span data-lang-key="fab_link_ranking">AI RANKING 🏆</span>
            </a>
        </nav>
    </div>

    <!-- Nút FAB (Floating Action Button) -->
    <button id="fab-menu-btn" onclick="toggleFabMenu()" aria-label="Mở Menu Điều Hướng">
        <svg id="fab-icon-open" class="w-8 h-8" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16m-7 6h7"></path></svg>
        <svg id="fab-icon-close" class="w-8 h-8 hidden" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg>
    </button>
    
    <!-- BỔ SUNG: Nút Scroll To Top -->
    <button id="scroll-to-top-btn" aria-label="Scroll to Top" onclick="scrollToTop()">
        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 10l7-7m0 0l7 7m-7-7v18"></path></svg>
    </button>
    <!-- END SCROLL TO TOP -->
    <!-- END FAB -->

    <!-- Navbar đơn giản để liên kết lại trang chính (Chỉ còn Logo và Language Switch) -->
    <nav class="sticky top-0 z-50">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-3 navbar-container glass-effect">
            <div class="mobile-navbar-content">
                <!-- Nút Trang chủ (Mobile First) -->
                <a href="index.html" class="font-bold text-lg hover:text-indigo-600 transition home-link-small flex-shrink-0 mr-2" data-lang-key="toolbox_nav_back_small">
                    minhtriet.online
                </a>
                
                <!-- Loại bỏ Landing Links khỏi Navbar -->
                <div class="flex-grow"></div> 
                
                <!-- Language Switcher -->
                <div class="lang-switcher relative flex-shrink-0 ml-2">
                    <button id="lang-button" class="flex items-center bg-gray-600 hover:bg-gray-700 text-white transition px-3 py-1 rounded-md text-sm">
                        <span id="current-lang-text">English</span> 
                        <svg class="w-4 h-4 ml-1" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path></svg>
                    </button>
                    <ul id="language-menu" class="absolute right-0 mt-2 w-40 bg-gray-800 rounded-md shadow-lg z-50 py-1 hidden">
                        <li data-lang="vi" class="px-4 py-2 text-sm text-gray-200 hover:bg-gray-700 cursor-pointer">Tiếng Việt</li>
                        <li data-lang="en" class="px-4 py-2 text-sm text-gray-200 hover:bg-gray-700 cursor-pointer">English</li>
                        <!-- Thêm các ngôn ngữ khác nếu cần -->
                    </ul>
                </div>
                <!-- End Language Switcher -->
            </div>
        </div>
    </nav>
    
    <!-- HEADER SECTION (HERO VIDEO) - Đã tách ra khỏi container giới hạn chiều rộng để đảm bảo tràn màn hình -->
    <header class="header-banner text-center rounded-none mb-0 hero-video-container">
        <!-- Video Background -->
        <video autoplay loop muted playsinline class="hero-video">
            <!-- Source: File đã được tải lên, sử dụng tên file mặc định -->
            <source src="/videos/ivs-coding.mp4" type="video/mp4">
            <!-- Fallback image nếu video không chạy -->
            <img src="https://placehold.co/1200x300/121217/8B5CF6?text=IVS+AI+Toolbox" alt="AI Toolbox Video Background" class="min-w-full min-h-full object-cover">
        </video>

        <!-- Video Overlay (giúp text dễ đọc) -->
        <div class="hero-overlay"></div>

        <!-- Content Wrapper -->
        <div class="hero-content-wrapper p-4 flex flex-col justify-center items-center h-full absolute inset-0">
            <h1 class="text-4xl sm:text-5xl md:text-6xl section-title mb-3 leading-tight !text-white !-webkit-text-fill-color:white" data-lang-key="toolbox_title">
                AI TOOLBOX
            </h1>
            <p class="text-lg sm:text-xl text-gray-300 max-w-3xl mx-auto font-light" data-lang-key="toolbox_subtitle">
                Find the right AI tool for your needs. Simple, effective, and verified.
            </p>
        </div>
    </header>
    <!-- END HERO VIDEO SECTION -->

    <!-- Khối DIV chứa nội dung còn lại - Bắt đầu sau Hero (để các section khác vẫn giới hạn chiều rộng) -->
    <div class="max-w-7xl mx-auto p-4 sm:p-6 lg:p-8">

        <!-- Main Content: Filter by Use Case (Mục đích sử dụng) - #tool-list-section -->
        <section id="tool-list-section" class="mb-12">
            <div class="glass-effect rounded-2xl p-6 sm:p-8">
                <!-- Tiêu đề mới, tập trung vào giải quyết vấn đề -->
                <h2 class="text-2xl font-bold text-gray-200 mb-6 text-center" data-lang-key="toolbox_h2_usecase">What Do You Want AI To Do?</h2>
                
                <!-- Use Case Buttons (ĐÃ GIẢM FONT/PADDING CHO MOBILE) -->
                <div id="useCaseButtons" class="flex flex-wrap justify-center gap-2 sm:gap-4 mb-6">
                    <button class="usecase-btn active px-4 sm:px-6 py-2 rounded-xl bg-gray-200 text-gray-800 transition transform" data-filter="all" onclick="selectUseCase('all')">
                        <span class="text-xl mr-2">🌟</span><span data-lang-key="toolbox_filter_all">All Tools</span>
                    </button>
                    <button class="usecase-btn px-4 sm:px-6 py-2 rounded-xl bg-gray-200 text-gray-800 transition transform" data-filter="Viết lách" onclick="selectUseCase('Viết lách')">
                        <span class="text-xl mr-2">✍️</span><span data-lang-key="toolbox_filter_writing">Writing, Summarizing, Ideas</span>
                    </button>
                    <button class="usecase-btn px-4 sm:px-6 py-2 rounded-xl bg-gray-200 text-gray-800 transition transform" data-filter="Hình ảnh" onclick="selectUseCase('Hình ảnh')">
                        <span class="text-xl mr-2">🖼️</span><span data-lang-key="toolbox_filter_image">Drawing, Graphic Design</span>
                    </button>
                    <button class="usecase-btn px-4 sm:px-6 py-2 rounded-xl bg-gray-200 text-gray-800 transition transform" data-filter="Video & Audio" onclick="selectUseCase('Video & Audio')">
                        <span class="text-xl mr-2">🎥</span><span data-lang-key="toolbox_filter_video">Video Creation, Voiceover</span>
                    </button>
                    <button class="usecase-btn px-4 sm:px-6 py-2 rounded-xl bg-gray-200 text-gray-800 transition transform" data-filter="Học tập" onclick="selectUseCase('Học tập')">
                        <span class="text-xl mr-2">📚</span><span data-lang-key="toolbox_filter_study">Language Learning, Research</span>
                    </button>
                    <button class="usecase-btn px-4 sm:px-6 py-2 rounded-xl bg-gray-200 text-gray-800 transition transform" data-filter="Lập trình" onclick="selectUseCase('Lập trình')">
                        <span class="text-xl mr-2">💻</span><span data-lang-key="toolbox_filter_code">Coding Assistance, Automation</span>
                    </button>
                </div>
                
                <!-- Tips Button -->
                <div class="flex justify-center mb-6">
                    <button id="showTipsBtn" onclick="showTipsModal()" 
                            class="usecase-btn px-6 py-3 rounded-full bg-purple-600 text-white font-bold hover:bg-purple-700 transition transform hover:scale-105 shadow-xl flex items-center justify-center">
                        <span class="text-2xl mr-2">💡</span><span data-lang-key="toolbox_tips_cta">Tips (Guidance)</span>
                    </button>
                </div>

                <!-- Secondary Filter / Search Section (ĐÃ GIẢM FONT) -->
                <div class="flex flex-col md:flex-row items-center space-y-4 md:space-y-0 md:space-x-4 border-t pt-4 mt-4 border-gray-700">
                    <div class="w-full md:w-auto relative flex-shrink-0">
                        <input type="text" id="searchInput" data-lang-key-placeholder="toolbox_search_placeholder" placeholder="Search specifics (optional)..."
                               class="w-full md:w-64 pl-10 pr-4 py-2 border border-gray-600 rounded-full focus:ring-purple-500 focus:border-purple-500 transition bg-gray-800 text-white shadow-inner text-sm"
                               onkeyup="filterTools()">
                        <svg class="absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path></svg>
                    </div>
                    
                    <!-- Filter Tags - Scrollable -->
                    <div id="filterButtons" class="filter-buttons-scroll flex gap-2 w-full pb-1">
                        <span class="text-xs text-gray-400 font-medium whitespace-nowrap pt-2 pr-1 flex-shrink-0" data-lang-key="toolbox_filter_tags_label">Filter by Professional Tags:</span>
                        <!-- Filter buttons (tags) will be dynamically added here -->
                    </div>
                </div>
            </div>
        </section>

        <!-- Hướng dẫn hành động sau khi lọc (ĐÃ GIẢM FONT) -->
        <p class="text-sm mb-6 px-4 py-3 border-l-4 rounded-xl important-tips-container shadow-md" data-lang-key="important_tips_action">
            <span data-lang-key="important_tips_text">
                **IMPORTANT TIPS:** Before clicking on a tool, remember to check the purple **"Tips (Guidance)"** section. It will show you how to formulate questions and best harness the power of that AI!
            </span>
        </p>

        <!-- Tool List (Cải tiến giao diện lưới) -->
        <section>
            <div id="toolsList" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6">
                <!-- Tool cards will be generated here -->
            </div>
            <div id="noResults" class="hidden text-center text-xl text-gray-400 mt-10 p-6 glass-effect rounded-xl" data-lang-key="toolbox_no_results">
                No tools matched your criteria.
            </div>
        </section>
                
        <!-- CONCEPT EXPLANATION SECTION -->
        <section id="concept-section" class="mb-12 pt-10 border-t border-gray-800">
            <div class="concept-card rounded-xl p-6">
                <h2 class="text-2xl font-bold text-purple-400 mb-6 text-center" data-lang-key="concept_h2_title">Essential AI Concepts to Know (Reference)</h2>
                <div class="grid md:grid-cols-3 gap-6 text-sm">
                    <!-- Concept 1: AI Độc Quyền (Closed Source) -->
                    <div class="p-4 bg-gray-800 rounded-xl shadow-inner border border-gray-700 transition transform hover:scale-[1.03]">
                        <h3 class="font-bold text-lg text-red-400 mb-2 flex items-center"><span class="mr-2">🔒</span><span data-lang-key="concept_closed_title">1. Closed Source AI</span></h3>
                        <p class="mb-2 text-gray-400" data-lang-key="concept_closed_desc">AI running on the company's server (e.g., ChatGPT, Gemini). Users cannot view or customize the source code.</p>
                        <p class="font-semibold text-gray-300" data-lang-key="concept_closed_pro_con">Pros: Very powerful, easy to use. Cons: Paid subscription, data governance concerns.</p>
                    </div>

                    <!-- Concept 2: AI Mã Nguồn Mở (Open Source) -->
                    <div class="p-4 bg-gray-800 rounded-xl shadow-inner border border-gray-700 transition transform hover:scale-[1.03]">
                        <h3 class="font-bold text-lg text-green-400 mb-2 flex items-center"><span class="mr-2">🌐</span><span data-lang-key="concept_open_title">2. Open Source AI</span></h3>
                        <p class="mb-2 text-gray-400" data-lang-key="concept_open_desc">Model code is publicly released (e.g., Llama 3, Stable Diffusion). Anyone can study and improve it.</p>
                        <p class="font-semibold text-gray-300" data-lang-key="concept_open_pro_con">Pros: Transparent, customizable, often free. Cons: Requires technical knowledge to operate.</p>
                    </div>

                    <!-- Concept 3: AI Ngoại Tuyến (Local/Offline) -->
                    <div class="p-4 bg-gray-800 rounded-xl shadow-inner border border-gray-700 transition transform hover:scale-[1.03]">
                        <h3 class="font-bold text-lg text-blue-400 mb-2 flex items-center"><span class="mr-2">💻</span><span data-lang-key="concept_local_title">3. Local/Offline AI</span></h3>
                        <p class="mb-2 text-gray-400" data-lang-key="concept_local_desc">AI running entirely on your computer (using Ollama or Llama). Data is not sent to the cloud.</p>
                        <p class="font-semibold text-gray-300" data-lang-key="concept_local_pro_con">Pros: Absolute privacy, no Internet needed. Cons: Requires strong computer hardware (GPU).</p>
                    </div>
                </div>
            </div>
        </section>
        <!-- END CONCEPT EXPLANATION SECTION -->

        <!-- LEADERBOARD SECTION -->
        <section id="leaderboard-section" class="mb-12 pt-10 border-t border-gray-800">
            <div class="glass-effect rounded-xl p-6 border border-gray-700">
                <h2 class="text-2xl font-bold text-gray-200 mb-4" data-lang-key="leaderboard_h2_title">Global AI Leaderboard (Experimental)</h2>
                <div class="text-center text-sm text-gray-400 mb-4" data-lang-key="leaderboard_warning">
                    *NOTE: If content is missing, the source website may be preventing embedding (iframe) for security reasons. Please click the button below to view directly.
                </div>
                
                <div class="iframe-container mb-6">
                    <iframe id="leaderboardIframe" 
                            src="https://artificialanalysis.ai/leaderboards/models" 
                            title="Global AI Model Leaderboard" 
                            allowfullscreen>
                    </iframe>
                </div>
                
                <div class="text-center">
                    <a href="https://artificialanalysis.ai/leaderboards/models" target="_blank" rel="noopener noreferrer" 
                       class="inline-flex items-center px-6 py-3 border border-transparent text-base font-medium rounded-full shadow-sm text-white bg-red-600 hover:bg-red-700 transition-all duration-300 transform hover:scale-105">
                        <span data-lang-key="leaderboard_cta">View Live Leaderboard →</span>
                    </a>
                </div>
            </div>
        </section>
        
    </div>

    <!-- Footer - UPDATED SECTION (Hidden in print) -->
    <footer class="bg-gray-900 text-white py-12 no-print">
        <div class="container mx-auto px-6">
            <div class="grid md:grid-cols-4 gap-10 border-b border-gray-700 pb-8 mb-8">
                <!-- Column 1: Brand & Description (md:col-span-2) -->
                <div class="md:col-span-2">
                    <h3 class="text-3xl font-bold bg-gradient-to-r from-blue-400 to-purple-400 bg-clip-text text-transparent mb-4 flex items-center">
                        <a href="https://ivsacademy.edu.vn" target="_blank" rel="noopener noreferrer" class="flex items-center">
                            <img src="/images/favicon.svg" alt="IVS Celestech Icon" class="h-8 w-8 mr-2"> IVS Celestech
                        </a>
                    </h3>
                    <p class="text-gray-400 leading-relaxed text-sm" data-lang-key="footer_description">
                        Strategic Operations & Technology Partner. Expert in digital transformation and performance optimization with a passion for creating breakthrough technology solutions and scalable capabilities.
                    </p>
                </div>

                <!-- Column 2: Quick Links -->
                <div>
                    <!-- Thêm data-lang-key cho tiêu đề Quick Links -->
                    <h4 class="text-xl font-semibold text-blue-400 mb-4" data-lang-key="footer_quick_links_title">Quick Links</h4>
                    <ul class="space-y-3 text-sm">
                        <!-- Thêm data-lang-key cho các liên kết nhanh -->
                        <li><a href="#about" class="text-gray-400 hover:text-white transition-colors footer-link" data-lang-key="nav_about">About</a></li>
                        <li><a href="#experience" class="text-gray-400 hover:text-white transition-colors footer-link" data-lang-key="nav_experience">Experience</a></li>
                        <li><a href="#portfolio" class="text-gray-400 hover:text-white transition-colors footer-link" data-lang-key="nav_portfolio">Portfolio</a></li>
                        <li><a href="index.html" class="text-gray-400 hover:text-white transition-colors footer-link" data-lang-key="nav_index">minhtriet.online</a></li>
                    </ul>
                </div>

                <!-- Column 3: Contact Info (Đã tối ưu hóa) -->
                <div>
                    <!-- Thêm data-lang-key cho tiêu đề -->
                    <h4 class="text-xl font-semibold text-blue-400 mb-4" data-lang-key="footer_contact_title">Contact Info</h4>
                    <ul class="space-y-3 text-sm text-gray-400">
                        <!-- 1. Email -->
                        <li class="flex items-center space-x-2">
                            <svg class="w-5 h-5 text-purple-400 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 4.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"></path></svg>
                            <!-- Thêm data-lang-key cho Email và sửa href -->
                            <a href="mailto:info@minhtriet.online" class="hover:text-white transition-colors" data-lang-key="footer_contact_email">info@minhtriet.online</a>
                        </li>
                        <!-- 2. Phone -->
                        <li class="flex items-center space-x-2">
                            <svg class="w-5 h-5 text-purple-400 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"></path></svg>
                            <!-- Thêm data-lang-key cho Phone -->
                            <a href="tel:+84896920547" class="hover:text-white transition-colors" data-lang-key="footer_contact_phone">+84 89692 0547</a>
                        </li>
                        <!-- 3. Address (Mở bản đồ) -->
                        <li class="flex items-center space-x-2">
                            <svg class="w-5 h-5 text-purple-400 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"></path><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z"></path></svg>
                            <!-- Đã kích hoạt liên kết Google Maps -->
                            <a href="https://maps.google.com/?q=Long+Phuoc,+Dong+Nai,+Vietnam" target="_blank" class="hover:text-white transition-colors" data-lang-key="footer_contact_address">
                                Long Phuoc, Dong Nai, Vietnam
                            </a>
                        </li>
                    </ul>
                </div>
            </div>

            <!-- Bottom Row: Copyright & Credit (Centered and Compact) -->
            <div class="text-center pt-2 pb-4">
                <!-- Copyright -->
                <p class="text-gray-500 text-sm mb-2" data-lang-key="footer_copyright">
                    © 2025 Nguyen Minh Triet. All rights reserved.
                </p>
                <!-- Footer Credit -->
                <p class="text-gray-600 text-xs">
                    <a href="https://ivsacademy.edu.vn/pages/webdesign" target="_blank" rel="noopener noreferrer" class="text-gray-600 hover:text-blue-600 transition-colors" data-lang-key="footer_credit">Designed & Developed by AI & IVS Celestech.</a>
                </p>
            </div>
    </footer>
    <!-- END Footer -->

    <!-- Tips Modal -->
    <div id="tipsModal" class="modal fixed inset-0 bg-black bg-opacity-80 flex items-center justify-center p-4 invisible opacity-0 z-50">
        <div class="modal-content transform -translate-y-10 bg-gray-900 rounded-xl shadow-2xl w-full max-w-lg max-h-[90vh] overflow-y-auto border border-purple-600">
            <div class="sticky top-0 bg-gray-900 border-b border-purple-800 px-6 py-4 flex justify-between items-center z-10">
                <h3 class="text-2xl font-bold text-purple-400" data-lang-key="modal_tips_title">💡 Most Effective AI Tips</h3>
                <button onclick="hideTipsModal()" class="text-gray-400 hover:text-white text-3xl leading-none transition">&times;</button>
            </div>
            <div id="modalTipsContent" class="p-6 sm:p-8 space-y-6 text-gray-300">
                <!-- Content will be generated by JS -->
            </div>
        </div>
    </div>
    
    <script>
        // --- DATA DỊCH THUẬT (VIETNAMESE & ENGLISH) ---
        const allTranslations = {
            'vi': {
                'toolbox_doc_title': 'AI Toolbox - Tổng Hợp Công Cụ AI Hiệu Quả Nhất',
                'toolbox_nav_back_small': 'minhtriet.online',
                'toolbox_title': 'AI TOOLBOX',
                'toolbox_subtitle': 'Tìm công cụ AI theo nhu cầu của bạn. Đơn giản, hiệu quả và được kiểm chứng.', 
                'toolbox_h2_usecase': 'Tôi Muốn Dùng AI Để Làm Gì?', 
                'toolbox_filter_all': 'Tất cả Công cụ',
                'toolbox_filter_writing': 'Viết, Tóm tắt, Ý tưởng', 
                'toolbox_filter_image': 'Vẽ, Thiết kế Đồ họa', 
                'toolbox_filter_video': 'Tạo Video, Lồng tiếng', 
                'toolbox_filter_study': 'Học ngoại ngữ, Nghiên cứu', 
                'toolbox_filter_code': 'Hỗ trợ Lập trình, Tự động hóa', 
                'toolbox_search_placeholder': 'Tìm kiếm chi tiết (tùy chọn)...',
                'toolbox_filter_tags_label': 'Lọc theo Tags chuyên môn:', 
                'toolbox_no_results': 'Không tìm thấy công cụ nào phù hợp với tiêu chí của bạn.',
                'toolbox_footer_credit': 'Được phát triển bởi IVS Celestech. Tối ưu hóa hiệu suất với AI.',
                'toolbox_tips_cta': 'Tips (Hướng dẫn)',
                // FAB Menu
                'fab_menu_title': 'Điều Hướng Nhanh',
                'fab_link_tools': 'Kho Công Cụ 🛠️',
                'fab_link_concepts': 'Khái Niệm AI 🧠',
                'fab_link_ranking': 'AI RANKING 🏆',
                // TIPS Modal Content
                'modal_tips_title': '💡 Tips Dùng AI Hiệu Quả Nhất',
                'tip1_title': '1. Đừng hỏi AI, Hãy Giao Việc cho AI',
                'tip1_desc': 'Thay vì hỏi: "ChatGPT là gì?", hãy thử: "Tôi đang làm Project X. Bạn hãy đóng vai trò là một [Vai trò chuyên gia] và giúp tôi [Mục tiêu cụ thể]."',
                'tip2_title': '2. Sử dụng "Công Thức Prompt Siêu Đơn Giản"',
                'tip2_desc': 'Khi không biết bắt đầu, hãy dùng công thức 3 bước: [Vai trò của AI] + [Mục tiêu] + [Định dạng đầu ra]. Ví dụ: "Đóng vai nhà phê bình công nghệ. Đánh giá Google Flow. Trả lời dưới dạng 5 gạch đầu dòng." ',
                'tip3_title': '3. Chia nhỏ Vấn Đề (Quan trọng cho người mới)',
                'tip3_desc': 'Nếu thấy quá khó, đừng hỏi một câu dài. Hãy chia thành 3 câu hỏi nhỏ, dễ hiểu. AI làm tốt nhất khi bạn cho nó từng bước đi rõ ràng.',
                'tip4_title': '4. Thử Nghiệm với Nút Lọc "Tôi Muốn Làm Gì"',
                'tip4_desc': 'Nếu bạn chưa rõ cần công cụ nào, hãy bấm vào các nút Viết lách, Hình ảnh hoặc Lập trình ở trên. Đây là cách nhanh nhất để thấy AI giải quyết vấn đề của bạn.',
                'tip5_title': '5. Tuyệt đối Đừng vội nản (Hội thoại là chìa khóa)',
                'tip5_desc': 'Nếu AI không trả lời đúng ý bạn ngay lập tức, đừng vội đánh giá thấp nó. Hãy hỏi thêm 1-2 câu để AI hiểu ngữ cảnh của bạn hơn. Kỹ năng hỏi tiếp (Refining) là điều quan trọng nhất để khai thác AI.',
                // CONCEPTS
                'concept_h2_title': 'Các Khái Niệm AI Cốt Lõi Cần Biết (Tham Khảo)',
                'concept_closed_title': '1. AI Độc Quyền (Closed Source)',
                'concept_closed_desc': 'AI chạy trên máy chủ của công ty (Ví dụ: ChatGPT, Gemini). Người dùng không thể xem hoặc tùy chỉnh mã nguồn.',
                'concept_closed_pro_con': 'Ưu điểm: Rất mạnh mẽ, dễ dùng. Nhược điểm: Mất phí, dữ liệu bị kiểm soát.',
                'concept_open_title': '2. AI Mã Nguồn Mở (Open Source)',
                'concept_open_desc': 'Mã mô hình được công bố rộng rãi (Ví dụ: Llama 3, Stable Diffusion). Ai cũng có thể nghiên cứu và cải tiến.',
                'concept_open_pro_con': 'Ưu điểm: Minh bạch, có thể tùy biến, miễn phí. Nhược điểm: Cần kiến thức kỹ thuật để vận hành.',
                'concept_local_title': '3. AI Ngoại Tuyến (Local/Offline)',
                'concept_local_desc': 'AI chạy hoàn toàn trên máy tính của bạn (Dùng Ollama hoặc Llama). Dữ liệu không gửi lên cloud.',
                'concept_local_pro_con': 'Ưu điểm: Bảo mật tuyệt đối, không cần Internet. Nhược điểm: Yêu cầu máy tính cấu hình mạnh (GPU).',
                // LEADERBOARD
                'leaderboard_h2_title': 'Bảng Xếp Hạng AI Toàn Cầu (Thử Nghiệm)',
                'leaderboard_warning': '*LƯU Ý: Nếu không thấy nội dung, có thể do trang web nguồn ngăn chặn việc nhúng (embedding) vì lý do bảo mật. Vui lòng bấm vào nút dưới để xem trực tiếp.',
                'leaderboard_cta': 'Xem Bảng Xếp Hạng Trực Tiếp →',
                // Chatbot Future
                'chatbot_future_title': 'Hướng Dẫn Tự Động: Trợ Lý AI IVS Sắp Ra Mắt!',
                'chatbot_future_desc': 'Bạn cần sự hướng dẫn chi tiết ngay bây giờ? Trong tương lai gần, bạn có thể trò chuyện trực tiếp với Trợ lý AI của IVS để nhận được câu trả lời cá nhân hóa cho mọi thắc mắc về công cụ và cách sử dụng.',
                'chatbot_future_cta': 'Chờ Đón Chatbot Hướng Dẫn',
                // Quan trọng
                'important_tips_text': '**TIPS QUAN TRỌNG:** Trước khi nhấp vào một công cụ, hãy nhớ xem mục **"Tips (Hướng dẫn)"** màu tím. Nó sẽ chỉ cho bạn cách đặt câu hỏi và khai thác sức mạnh của AI đó tốt nhất!',
                // Feature Translations (Thêm bản dịch cho các Feature)
                'feature_best_vi': 'Thông minh/Tốt nhất',
                'feature_best_en': 'Smartest/Best Performance',
                'feature_multimodal_vi': 'Đa phương thức',
                'feature_multimodal_en': 'Multimodal',
                'feature_high_price_vi': 'Giá Cao',
                'feature_high_price_en': 'High Cost',
                'feature_large_context_vi': 'Ngữ cảnh Lớn',
                'feature_large_context_en': 'Large Context',
                'feature_real_time_vi': 'Thời gian Thực',
                'feature_real_time_en': 'Real-time Data',
                'feature_reasoning_vi': 'Lập luận Cao',
                'feature_reasoning_en': 'High Reasoning',
                'feature_google_integration_vi': 'Tích hợp Google',
                'feature_google_integration_en': 'Google Integration',
                'feature_free_best_vi': 'Miễn phí Tốt nhất',
                'feature_free_best_en': 'Best Free Tier',
                'feature_high_speed_vi': 'Tốc độ Cao',
                'feature_high_speed_en': 'High Speed',
                'feature_image_quality_vi': 'Chất lượng Ảnh',
                'feature_image_quality_en': 'Image Quality',
                'feature_video_quality_vi': 'Chất lượng Video',
                'feature_video_quality_en': 'Video Quality',
                'feature_audio_quality_vi': 'Chất lượng Âm thanh',
                'feature_audio_quality_en': 'Audio Quality',
                'feature_easy_to_use_vi': 'Dễ sử dụng',
                'feature_easy_to_use_en': 'Easy to Use',
                'feature_code_support_vi': 'Hỗ trợ Code',
                'feature_code_support_en': 'Code Assistance',
                'feature_automation_vi': 'Tự động hóa',
                'feature_automation_en': 'Automation',
                'feature_edtech_vi': 'Chuyên EdTech',
                'feature_edtech_en': 'EdTech Specialized',
                'feature_personalization_vi': 'Cá nhân hóa',
                'feature_personalization_en': 'Personalization',
                'feature_open_source_vi': 'Mã Nguồn Mở',
                'feature_open_source_en': 'Open Source',
                'feature_local_vi': 'Local (Offline)',
                'feature_local_en': 'Local (Offline)',
                'feature_social_integration_vi': 'Tích hợp MXH',
                'feature_social_integration_en': 'Social Integration',
                'feature_ai_avatar_vi': 'Avatar AI',
                'feature_ai_avatar_en': 'AI Avatar',
                'feature_create_slide_vi': 'Tạo Slide',
                'feature_create_slide_en': 'Slide Creation',
                'feature_high_security_vi': 'Bảo mật Cao',
                'feature_high_security_en': 'High Security',
                'feature_voice_interaction_vi': 'Tương tác Giọng nói',
                'feature_voice_interaction_en': 'Voice Interaction',
                'feature_video_call_vi': 'Video Call AI',
                'feature_video_call_en': 'AI Video Call',
                'feature_natural_comm_vi': 'Giao tiếp Tự nhiên',
                'feature_natural_comm_en': 'Natural Communication',
                'feature_tech_knowledge_vi': 'Cần Kiến thức Kỹ thuật',
                'feature_tech_knowledge_en': 'Requires Technical Knowledge',
                'feature_hardware_vi': 'Cần Cấu hình Mạnh (GPU)',
                'feature_hardware_en': 'Requires Strong Hardware (GPU)',
                'feature_code_fast_vi': 'Code Nhanh',
                'feature_code_fast_en': 'Fast Code Generation',
                'feature_citation_good_vi': 'Trích dẫn Tốt',
                'feature_citation_good_en': 'Good Citation',
                'feature_notion_integration_vi': 'Tích hợp Notion',
                'feature_notion_integration_en': 'Notion Integration',
                'feature_project_management_vi': 'Quản lý Dự án',
                'feature_project_management_en': 'Project Management',
                'feature_app_integration_vi': 'Tích hợp Ứng dụng',
                'feature_app_integration_en': 'App Integration',
                'feature_marketing_vi': 'Marketing',
                'feature_marketing_en': 'Marketing'
            },
            'en': {
                'toolbox_doc_title': 'AI Toolbox - Most Effective AI Tools Collection',
                'toolbox_nav_back_small': 'minhtriet.online',
                'toolbox_title': 'AI TOOLBOX',
                'toolbox_subtitle': 'Find the right AI tool for your needs. Simple, effective, and verified.', 
                'toolbox_h2_usecase': 'What Do You Want AI To Do?', 
                'toolbox_filter_all': 'All Tools',
                'toolbox_filter_writing': 'Writing, Summarizing, Ideas', 
                'toolbox_filter_image': 'Drawing, Graphic Design', 
                'toolbox_filter_video': 'Video Creation, Voiceover', 
                'toolbox_filter_study': 'Language Learning, Research', 
                'toolbox_filter_code': 'Coding Assistance, Automation', 
                'toolbox_search_placeholder': 'Search specifics (optional)...',
                'toolbox_filter_tags_label': 'Filter by Professional Tags:', 
                'toolbox_no_results': 'No tools matched your criteria.',
                'toolbox_footer_credit': 'Developed by IVS Celestech. Optimizing performance with AI.',
                'toolbox_tips_cta': 'Tips (Guidance)',
                 // FAB Menu - New Translations
                'fab_menu_title': 'Quick Navigation',
                'fab_link_tools': 'AI Tools Hub 🛠️',
                'fab_link_concepts': 'AI Concepts 🧠',
                'fab_link_ranking': 'AI RANKING 🏆',
                // TIPS Modal Content
                'modal_tips_title': '💡 Most Effective AI Tips',
                'tip1_title': '1. Don\'t Ask AI, Assign Tasks to AI',
                'tip1_desc': 'Instead of asking: "What is ChatGPT?", try: "I\'m working on Project X. Act as a [Expert Role] and help me [Specific Goal]."',
                'tip2_title': '2. Use the "Super Simple Prompt Formula"',
                'tip2_desc': 'When stuck, use the 3-step formula: [AI\'s Role] + [Goal] + [Output Format]. Example: "Act as a tech critic. Review Google Flow. Reply in 5 bullet points."',
                'tip3_title': '3. Break Down the Problem (Crucial for beginners)',
                'tip3_desc': 'If the task seems too hard, don\'t ask one long question. Break it into 3 small, clear questions. AI performs best when given clear, sequential steps.',
                'tip4_title': '4. Experiment with the "What I Want To Do" Filters',
                'tip4_desc': 'If you\'re unsure which tool you need, click the Writing, Image, or Coding buttons above. This is the fastest way to see how AI solves your problem.',
                'tip5_title': '5. Absolutely Do Not Give Up (Conversation is Key)',
                'tip5_desc': 'If the AI doesn\'t understand your intent immediately, do not dismiss it. Ask 1-2 follow-up questions to help the AI grasp your context. The skill of refining (In-context learning) is the most critical aspect of leveraging AI.',
                // CONCEPTS
                'concept_h2_title': 'Essential AI Concepts to Know (Reference)',
                'concept_closed_title': '1. Closed Source AI',
                'concept_closed_desc': 'AI running on the company\'s server (e.g., ChatGPT, Gemini). Users cannot view or customize the source code.',
                'concept_closed_pro_con': 'Pros: Very powerful, easy to use. Cons: Paid subscription, data governance concerns.',
                'concept_open_title': '2. Open Source AI',
                'concept_open_desc': 'Model code is publicly released (e.g., Llama 3, Stable Diffusion). Anyone can study and improve it.',
                'concept_open_pro_con': 'Pros: Transparent, customizable, often free. Cons: Requires technical knowledge to operate.',
                'concept_local_title': '3. Local/Offline AI',
                'concept_local_desc': 'AI running entirely on your computer (using Ollama or Llama). Data is not sent to the cloud.',
                'concept_local_pro_con': 'Pros: Absolute privacy, no Internet needed. Cons: Requires strong computer hardware (GPU).',
                // LEADERBOARD
                'leaderboard_h2_title': 'Global AI Leaderboard (Experimental)',
                'leaderboard_warning': '*NOTE: If content is missing, the source website may be preventing embedding (iframe) for security reasons. Please click the button below to view directly.',
                'leaderboard_cta': 'View Live Leaderboard →',
                // Chatbot Future
                'chatbot_future_title': 'Automated Guidance: IVS AI Assistant Coming Soon!',
                'chatbot_future_desc': 'Need detailed guidance now? In the near future, you\'ll be able to chat directly with the IVS AI Assistant to get personalized answers to all your tool and usage questions.',
                'chatbot_future_cta': 'Awaiting Guidance Chatbot',
                // Quan trọng
                'important_tips_text': '**IMPORTANT TIPS:** Before clicking on a tool, remember to check the purple **"Tips (Guidance)"** section. It will show you how to formulate questions and best harness the power of that AI!',
                // Feature Translations (Thêm bản dịch cho các Feature)
                'feature_best_vi': 'Thông minh/Tốt nhất',
                'feature_best_en': 'Smartest/Best Performance',
                'feature_multimodal_vi': 'Đa phương thức',
                'feature_multimodal_en': 'Multimodal',
                'feature_high_price_vi': 'Giá Cao',
                'feature_high_price_en': 'High Cost',
                'feature_large_context_vi': 'Ngữ cảnh Lớn',
                'feature_large_context_en': 'Large Context',
                'feature_real_time_vi': 'Thời gian Thực',
                'feature_real_time_en': 'Real-time Data',
                'feature_reasoning_vi': 'Lập luận Cao',
                'feature_reasoning_en': 'High Reasoning',
                'feature_google_integration_vi': 'Tích hợp Google',
                'feature_google_integration_en': 'Google Integration',
                'feature_free_best_vi': 'Miễn phí Tốt nhất',
                'feature_free_best_en': 'Best Free Tier',
                'feature_high_speed_vi': 'Tốc độ Cao',
                'feature_high_speed_en': 'High Speed',
                'feature_image_quality_vi': 'Chất lượng Ảnh',
                'feature_image_quality_en': 'Image Quality',
                'feature_video_quality_vi': 'Chất lượng Video',
                'feature_video_quality_en': 'Video Quality',
                'feature_audio_quality_vi': 'Chất lượng Âm thanh',
                'feature_audio_quality_en': 'Audio Quality',
                'feature_easy_to_use_vi': 'Dễ sử dụng',
                'feature_easy_to_use_en': 'Easy to Use',
                'feature_code_support_vi': 'Hỗ trợ Code',
                'feature_code_support_en': 'Code Assistance',
                'feature_automation_vi': 'Tự động hóa',
                'feature_automation_en': 'Automation',
                'feature_edtech_vi': 'Chuyên EdTech',
                'feature_edtech_en': 'EdTech Specialized',
                'feature_personalization_vi': 'Cá nhân hóa',
                'feature_personalization_en': 'Personalization',
                'feature_open_source_vi': 'Mã Nguồn Mở',
                'feature_open_source_en': 'Open Source',
                'feature_local_vi': 'Local (Offline)',
                'feature_local_en': 'Local (Offline)',
                'feature_social_integration_vi': 'Tích hợp MXH',
                'feature_social_integration_en': 'Social Integration',
                'feature_ai_avatar_vi': 'Avatar AI',
                'feature_ai_avatar_en': 'AI Avatar',
                'feature_create_slide_vi': 'Tạo Slide',
                'feature_create_slide_en': 'Slide Creation',
                'feature_high_security_vi': 'Bảo mật Cao',
                'feature_high_security_en': 'High Security',
                'feature_voice_interaction_vi': 'Tương tác Giọng nói',
                'feature_voice_interaction_en': 'Voice Interaction',
                'feature_video_call_vi': 'Video Call AI',
                'feature_video_call_en': 'AI Video Call',
                'feature_natural_comm_vi': 'Giao tiếp Tự nhiên',
                'feature_natural_comm_en': 'Natural Communication',
                'feature_tech_knowledge_vi': 'Cần Kiến thức Kỹ thuật',
                'feature_tech_knowledge_en': 'Requires Technical Knowledge',
                'feature_hardware_vi': 'Cần Cấu hình Mạnh (GPU)',
                'feature_hardware_en': 'Requires Strong Hardware (GPU)',
                'feature_code_fast_vi': 'Code Nhanh',
                'feature_code_fast_en': 'Fast Code Generation',
                'feature_citation_good_vi': 'Trích dẫn Tốt',
                'feature_citation_good_en': 'Good Citation',
                'feature_notion_integration_vi': 'Tích hợp Notion',
                'feature_notion_integration_en': 'Notion Integration',
                'feature_project_management_vi': 'Quản lý Dự án',
                'feature_project_management_en': 'Project Management',
                'feature_app_integration_vi': 'Tích hợp Ứng dụng',
                'feature_app_integration_en': 'App Integration',
                'feature_marketing_vi': 'Marketing',
                'feature_marketing_en': 'Marketing'
                
            }
        };

        let currentLang = 'en'; // Default language changed to EN

        // --- FAB MENU LOGIC ---
        function toggleFabMenu() {
            const menu = document.getElementById('fab-nav-menu');
            const openIcon = document.getElementById('fab-icon-open');
            const closeIcon = document.getElementById('fab-icon-close');
            
            menu.classList.toggle('active');
            
            if (menu.classList.contains('active')) {
                menu.classList.remove('hidden');
                document.body.style.overflow = 'hidden'; // Ngăn cuộn nền
                openIcon.classList.add('hidden');
                closeIcon.classList.remove('hidden');
            } else {
                // Sử dụng timeout ngắn để cho phép hiệu ứng transition chạy trước khi ẩn
                setTimeout(() => menu.classList.add('hidden'), 300);
                document.body.style.overflow = 'auto'; // Cho phép cuộn nền
                openIcon.classList.remove('hidden');
                closeIcon.classList.add('hidden');
            }
        }
        window.toggleFabMenu = toggleFabMenu;
        // --- END FAB MENU LOGIC ---


        function translateFeature(featureName) {
            
            // Tìm key chuẩn hóa trong bộ dịch
            let key = null;
            if (featureName.includes('Thông minh Nhất') || featureName.includes('Smartest')) key = 'feature_best';
            else if (featureName.includes('Đa phương thức') || featureName.includes('Multimodal')) key = 'feature_multimodal';
            else if (featureName.includes('Giá Cao') || featureName.includes('High Cost')) key = 'feature_high_price';
            else if (featureName.includes('Ngữ cảnh Lớn') || featureName.includes('Large Context')) key = 'feature_large_context';
            else if (featureName.includes('Thời gian Thực') || featureName.includes('Real-time')) key = 'feature_real_time';
            else if (featureName.includes('Lập luận Cao') || featureName.includes('High Reasoning')) key = 'feature_reasoning';
            else if (featureName.includes('Tích hợp Google') || featureName.includes('Google Integration')) key = 'feature_google_integration';
            else if (featureName.includes('Miễn phí Tốt nhất') || featureName.includes('Best Free Tier')) key = 'feature_free_best';
            else if (featureName.includes('Tốc độ Cao') || featureName.includes('High Speed')) key = 'feature_high_speed';
            else if (featureName.includes('Chất lượng Ảnh') || featureName.includes('Image Quality')) key = 'feature_image_quality';
            else if (featureName.includes('Chất lượng Video') || featureName.includes('Video Quality') || featureName.includes('Tạo Video') || featureName.includes('Chỉnh sửa Video')) key = 'feature_video_quality';
            else if (featureName.includes('Chất lượng Âm thanh') || featureName.includes('Audio Quality')) key = 'feature_audio_quality';
            else if (featureName.includes('Dễ sử dụng') || featureName.includes('Easy to Use')) key = 'feature_easy_to_use';
            else if (featureName.includes('Hỗ trợ Code') || featureName.includes('Code Assistance')) key = 'feature_code_support';
            else if (featureName.includes('Tự động hóa') || featureName.includes('Automation') || featureName.includes('Kinh doanh') || featureName.includes('Quản lý')) key = 'feature_automation';
            else if (featureName.includes('Chuyên EdTech') || featureName.includes('EdTech Specialized')) key = 'feature_edtech';
            else if (featureName.includes('Cá nhân hóa') || featureName.includes('Personalization')) key = 'feature_personalization';
            else if (featureName.includes('Mã Nguồn Mở') || featureName.includes('Open Source')) key = 'feature_open_source';
            else if (featureName.includes('Local (Offline)')) key = 'feature_local';
            else if (featureName.includes('Tích hợp MXH') || featureName.includes('Social Integration') || featureName.includes('Marketing')) key = 'feature_social_integration';
            else if (featureName.includes('Avatar AI')) key = 'feature_ai_avatar';
            else if (featureName.includes('Tạo Slide') || featureName.includes('Slide Creation')) key = 'feature_create_slide';
            else if (featureName.includes('Bảo mật Cao') || featureName.includes('High Security')) key = 'feature_high_security';
            else if (featureName.includes('Tương tác Giọng nói') || featureName.includes('Voice Interaction')) key = 'feature_voice_interaction';
            else if (featureName.includes('Video Call AI') || featureName.includes('AI Video Call')) key = 'feature_video_call';
            else if (featureName.includes('Giao tiếp Tự nhiên') || featureName.includes('Natural Communication')) key = 'feature_natural_comm';
            else if (featureName.includes('Cần Kiến thức Kỹ thuật') || featureName.includes('Requires Technical Knowledge')) key = 'feature_tech_knowledge';
            else if (featureName.includes('Cần Cấu hình Mạnh (GPU)') || featureName.includes('Requires Strong Hardware (GPU)')) key = 'feature_hardware';
            else if (featureName.includes('Code Nhanh') || featureName.includes('Fast Code Generation')) key = 'feature_code_fast';
            else if (featureName.includes('Trích dẫn Tốt') || featureName.includes('Good Citation')) key = 'feature_citation_good';
            else if (featureName.includes('Tích hợp Notion') || featureName.includes('Notion Integration')) key = 'feature_notion_integration';
            else if (featureName.includes('Quản lý Dự án') || featureName.includes('Project Management')) key = 'feature_project_management';
            else if (featureName.includes('Tích hợp Ứng dụng') || featureName.includes('App Integration')) key = 'feature_app_integration';
            else if (featureName.includes('Marketing')) key = 'feature_marketing';


            if (key) {
                const viText = allTranslations['vi'][`${key}_vi`];
                const enText = allTranslations['en'][`${key}_en`];
                
                if (currentLang === 'en' && enText) return enText;
                if (currentLang === 'vi' && viText) return viText;
                // Fallback to Vietnamese if English is missing, but prefer Vietnamese in default data structure
                return currentLang === 'en' ? featureName : (viText || featureName); 
            }
            
            // Trường hợp không tìm thấy key chuẩn hóa, trả về chính nó.
            return featureName; 
        }

        function applyLanguage(lang) {
            currentLang = lang;
            const translations = allTranslations[lang];
            if (!translations) return;

            // Apply text content translations
            document.querySelectorAll('[data-lang-key]').forEach(element => {
                const key = element.getAttribute('data-lang-key');
                if (translations[key]) {
                    if (key === 'toolbox_footer_credit') {
                        // Special handling for HTML content in footer
                        const replacedText = translations[key].replace('IVS Celestech', '<span class="font-bold text-purple-400">IVS Celestech</span>');
                        element.innerHTML = replacedText;
                    } else if (key === 'important_tips_text') {
                        // Special handling for the important tips block
                        const originalText = translations[key];
                        // Replace **text** with <strong>text</strong>
                        const formattedText = originalText.replace(/\*\*(.*?)\*\*/g, '<strong>$1</strong>');
                        element.innerHTML = formattedText;
                    } 
                    else {
                        element.textContent = translations[key];
                    }
                }
            });

            // Apply placeholder translations
            document.querySelectorAll('[data-lang-key-placeholder]').forEach(el => {
                const phKey = el.getAttribute('data-lang-key-placeholder');
                if (translations[phKey]) {
                    el.setAttribute('placeholder', translations[phKey]);
                }
            });

            // Update language switcher text
            const langNames = { 'vi': 'Tiếng Việt', 'en': 'English' };
            document.getElementById('current-lang-text').textContent = langNames[lang] || lang.toUpperCase();
            
            // Highlight selected language in menu
            document.querySelectorAll('#language-menu li').forEach(li => {
                li.classList.remove('bg-gray-700', 'text-white');
                li.classList.add('text-gray-200');
                if (li.dataset.lang === lang) {
                    li.classList.add('bg-gray-700', 'text-white');
                    li.classList.remove('text-gray-200');
                }
            });
            
            // Rerender tools to update descriptions/features/names/etc.
            filterTools();
            // Re-populate modal content to update tip texts if visible
            if (document.getElementById('tipsModal').classList.contains('visible')) {
                populateTipsModal();
            }
            
            // Update document language attribute
            document.documentElement.lang = lang;

            // Lưu ngôn ngữ đã chọn
            localStorage.setItem('language', lang);
        }
        
        function initLanguageSwitcher() {
            const btn = document.getElementById('lang-button');
            const menu = document.getElementById('language-menu');
            
            if (btn && menu) {
                // Toggle dropdown visibility
                btn.addEventListener('click', e => {
                    e.stopPropagation();
                    menu.classList.toggle('hidden');
                });
                
                // Hide on outside click
                document.addEventListener('click', (e) => {
                    if (!menu.contains(e.target) && e.target !== btn) {
                        menu.classList.add('hidden');
                    }
                });
                
                // Handle language selection
                menu.querySelectorAll('li').forEach(item => {
                    item.addEventListener('click', () => {
                        const lang = item.dataset.lang;
                        applyLanguage(lang);
                        menu.classList.add('hidden');
                    });
                });
            }
            
            // Set initial language based on local storage or default (Start with 'en')
            const savedLang = localStorage.getItem('language') || 'en';
            applyLanguage(savedLang); 
        }

        const tipsContent = [
            { key_title: 'tip1_title', key_desc: 'tip1_desc', icon: '🗣️' },
            { key_title: 'tip2_title', key_desc: 'tip2_desc', icon: '📐' },
            { key_title: 'tip3_title', key_desc: 'tip3_desc', icon: '✂️' },
            { key_title: 'tip4_title', key_desc: 'tip4_desc', icon: '🖱️' },
            { key_title: 'tip5_title', key_desc: 'tip5_desc', icon: '🧘' },
        ];
        
        function populateTipsModal() {
            const translations = allTranslations[currentLang];
            const container = document.getElementById('modalTipsContent');
            container.innerHTML = tipsContent.map(tip => `
                <div class="flex items-start space-x-3 bg-gray-800 p-4 rounded-xl border border-purple-700 transition transform hover:scale-[1.02]">
                    <span class="text-2xl pt-1 flex-shrink-0">${tip.icon}</span>
                    <div>
                        <h4 class="font-bold text-purple-300" data-lang-key="${tip.key_title}">${translations[tip.key_title]}</h4>
                        <p class="text-sm text-gray-400" data-lang-key="${tip.key_desc}">${translations[tip.key_desc]}</p>
                    </div>
                </div>
            `).join('');
        }

        function showTipsModal() {
            const modal = document.getElementById('tipsModal');
            const modalContent = modal.querySelector('.modal-content');
            populateTipsModal(); 
            modal.classList.add('visible');
            modalContent.classList.remove('-translate-y-10');
            document.body.style.overflow = 'hidden';
        }

        function hideTipsModal() {
            const modal = document.getElementById('tipsModal');
            const modalContent = modal.querySelector('.modal-content');
            modal.classList.remove('visible');
            modalContent.classList.add('-translate-y-10');
            document.body.style.overflow = 'auto';
        }

        // --- END LOCAL TRANSLATION LOGIC ---


        // Dữ liệu các công cụ AI
        const aiTools = [
            // CÁC MÔ HÌNH KHỦNG LONG MỚI NHẤT - Ưu tiên tuyệt đối 0.1
            {
                name: "GPT-5 (High)",
                name_en: "GPT-5 (High)",
                description: "Mô hình ngôn ngữ thế hệ tiếp theo của OpenAI, được kỳ vọng đột phá về lý luận, tốc độ và khả năng đa phương thức.",
                description_en: "OpenAI's next-generation language model, expected to revolutionize reasoning, speed, and multimodal capabilities.",
                tags: ["LLM", "Future Model", "Hype", "Closed Source", "Subscription"],
                features: ["Thông minh Nhất", "Đa phương thức", "Giá Cao", "Video Call AI", "Giao tiếp Tự nhiên"],
                link: "https://openai.com/",
                icon: "👑",
                useCase: ["Viết lách", "Lập trình", "Research"],
                priority: 0.1,
                alias: []
            },
            {
                name: "Grok 4 (High)",
                name_en: "Grok 4 (High)",
                description: "Thế hệ Grok tiếp theo từ xAI, tích hợp sâu hơn với X/Twitter và khả năng xử lý ngữ cảnh dài vượt trội.",
                description_en: "The next generation of Grok from xAI, featuring deeper integration with X/Twitter and superior large context processing.",
                tags: ["LLM", "Future Model", "Real-time", "Closed Source", "Subscription"],
                features: ["Thông minh Nhất", "Ngữ cảnh Lớn", "Thời gian Thực", "Video Call AI", "Tích hợp MXH"],
                link: "https://grok.x.ai/",
                icon: "🚀",
                useCase: ["Viết lách", "Marketing", "Research"],
                priority: 0.1,
                alias: []
            },
            {
                name: "Claude 4.5 Sonnet (Future)",
                name_en: "Claude 4.5 Sonnet (Future)",
                description: "Mô hình Sonnet nâng cấp của Anthropic, hứa hẹn vượt trội về độ dài ngữ cảnh (context window) và tính chính xác.",
                description_en: "Anthropic's upgraded Sonnet model, promising superior performance in context window length and accuracy.",
                tags: ["LLM", "Future Model", "Research", "Closed Source", "Subscription"],
                features: ["Thông minh Nhất", "Ngữ cảnh Lớn", "Giá Cao"],
                link: "https://www.anthropic.com/",
                icon: "⭐",
                useCase: ["Viết lách", "Học tập", "Lập trình"],
                priority: 0.1,
                alias: []
            },
            {
                name: "Claude 4 Opus (Future)",
                name_en: "Claude 4 Opus (Future)",
                description: "Mô hình mạnh nhất của Claude, vượt trội về khả năng lập luận, phân tích dữ liệu và hiểu ngữ cảnh phức tạp.",
                description_en: "Claude's most powerful model, excelling in complex reasoning, data analysis, and sophisticated context understanding.",
                tags: ["LLM", "Future Model", "Research", "Closed Source", "Subscription"],
                features: ["Thông minh Nhất", "Ngữ cảnh Lớn", "Lập luận Cao", "Giá Cao"],
                link: "https://www.anthropic.com/",
                icon: "⚛️",
                useCase: ["Viết lách", "Học tập", "Lập trình"],
                priority: 0.1,
                alias: []
            },
            {
                name: "Gemini 2.5 Pro (Nâng cấp)",
                name_en: "Gemini 2.5 Pro (Upgraded)",
                description: "Phiên bản nâng cấp của Gemini Pro, tập trung vào khả năng lập luận phức tạp và tích hợp đa phương tiện nâng cao.",
                description_en: "An upgraded version of Gemini Pro, focusing on complex reasoning capabilities and enhanced multimedia integration.",
                tags: ["LLM", "Research", "Data Analysis", "Real-time", "Closed Source", "Subscription"],
                features: ["Thông minh Nhất", "Tích hợp Google", "Đa phương thức", "Tương tác Giọng nói", "Video Call AI", "Thời gian Thực"],
                link: "https://gemini.google.com/advanced",
                icon: "⚡",
                useCase: ["Học tập", "Viết lách", "Phân tích"],
                priority: 0.1,
                alias: []
            },
            
            // CÁC LLM & CÔNG CỤ HIỆN HÀNH DẪN ĐẦU - Priority 1
            {
                name: "ChatGPT / GPT-4o",
                name_en: "ChatGPT / GPT-4o",
                description: "Mô hình ngôn ngữ lớn (LLM) đa năng, tốt nhất cho viết lách, tóm tắt, ý tưởng và lập trình cơ bản.",
                description_en: "Versatile large language model (LLM), best for writing, summarizing, ideation, and basic programming.",
                tags: ["LLM", "Text", "Coding", "Research", "Closed Source", "Free Tier", "Best Performance"],
                features: ["Miễn phí Tốt nhất", "Tốc độ Cao", "Đa phương thức", "Tương tác Giọng nói", "Video Call AI", "Giao tiếp Tự nhiên"],
                link: "https://openai.com/chatgpt",
                icon: "🤖",
                useCase: ["Viết lách", "Học tập", "Lập trình"],
                priority: 1,
                alias: ["chat", "gpt", "openai"]
            },
            {
                name: "Gemini Advanced",
                name_en: "Gemini Advanced",
                description: "Mô hình LLM mạnh mẽ của Google, tích hợp Google Search, lý tưởng cho phân tích dữ liệu và thông tin thời gian thực.",
                description_en: "Google's powerful LLM, integrated with Google Search, ideal for data analysis and real-time information.",
                tags: ["LLM", "Research", "Data Analysis", "Real-time", "Closed Source", "Subscription", "Best Performance"],
                features: ["Tích hợp Google", "Thời gian Thực", "Tốc độ Cao", "Tương tác Giọng nói", "Giao tiếp Tự nhiên", "Đa phương thức"],
                link: "https://gemini.google.com/advanced",
                icon: "✨",
                useCase: ["Học tập", "Viết lách", "Phân tích"],
                priority: 1,
                alias: ["google", "chat"]
            },
            {
                name: "Midjourney",
                name_en: "Midjourney",
                description: "Công cụ tạo hình ảnh chuyên nghiệp từ văn bản (text-to-image), nổi tiếng với chất lượng nghệ thuật cao cấp. (Closed Source, Cloud)",
                description_en: "Professional text-to-image generation tool, famous for its high artistic quality. (Closed Source, Cloud)",
                tags: ["Image", "Art", "Design", "Closed Source", "Subscription", "Best Performance"],
                features: ["Chất lượng Ảnh", "Giá Cao", "Sáng tạo"],
                link: "https://www.midjourney.com/",
                icon: "🎨",
                useCase: ["Hình ảnh", "Sáng tạo"],
                priority: 1,
                alias: ["vẽ", "hình", "draw"]
            },
            
            // CÔNG CỤ UTILITY CAO CẤP & HYPE - Priority 2
            {
                name: "Sora (OpenAI)",
                name_en: "Sora (OpenAI)",
                description: "Mô hình tạo video từ văn bản (text-to-video) đột phá, tạo ra các cảnh quay phức tạp, chân thực và chất lượng cao. (Đang thử nghiệm)",
                description_en: "Groundbreaking text-to-video model, generating complex, realistic, and high-quality footage. (Currently in testing)",
                tags: ["Video", "Art", "Content Creation", "Closed Source", "Hype", "Future Model"],
                features: ["Chất lượng Video", "Giá Cao", "Hype"],
                link: "https://openai.com/sora",
                icon: "🎬",
                useCase: ["Video & Audio", "Sáng tạo", "Marketing"],
                priority: 2,
                alias: ["phim", "clip", "video"]
            },
            {
                name: "Google Flow",
                name_en: "Google Flow",
                description: "Trình tạo quy trình làm việc tự động (workflow builder) bằng AI, giúp kết nối các dịch vụ Google (Gmail, Sheets, Drive) một cách dễ dàng.",
                description_en: "AI-powered workflow builder, easily connecting various Google services (Gmail, Sheets, Drive) for automation.",
                tags: ["Automation", "Productivity", "Business", "Closed Source", "Free Tier", "Google"],
                features: ["Tự động hóa", "Miễn phí Tốt nhất", "Tích hợp Google", "Tích hợp Ứng dụng"],
                link: "https://labs.google/fx/vi/tools/flow",
                icon: "⚙️",
                useCase: ["Lập trình", "Tự động hóa", "Quản lý"],
                priority: 2,
                alias: ["tự động", "google", "flow"]
            },
            
            // CÔNG CỤ CHUYÊN NGÀNH & MẠNH MẼ - Priority 3
            {
                name: "ElevenLabs",
                name_en: "ElevenLabs",
                description: "Công cụ dẫn đầu về Tạo Giọng Nói (TTS) tự nhiên và Nhân bản Giọng nói đa ngôn ngữ, hoàn hảo cho EdTech, lồng tiếng.",
                description_en: "Leading tool for natural Text-to-Speech (TTS) and multilingual Voice Cloning, perfect for EdTech and voiceovers.",
                tags: ["Audio", "TTS", "EdTech", "Closed Source", "Subscription"],
                features: ["Chất lượng Âm thanh", "Đa ngôn ngữ", "Tương tác Giọng nói"],
                link: "https://elevenlabs.io/",
                icon: "🎤",
                useCase: ["Video & Audio", "Học tập", "Sáng tạo"],
                priority: 3,
                alias: ["giọng nói", "lồng tiếng", "audio", "voice"]
            },
            {
                name: "Runway Gen-2",
                name_en: "Runway Gen-2",
                description: "Công cụ tạo video từ văn bản (text-to-video) và chỉnh sửa video có sẵn, là tiêu chuẩn ngành cho nhà làm phim độc lập.",
                description_en: "Text-to-video generation and existing video editing tool, the industry standard for independent filmmakers.",
                tags: ["Video", "Art", "Content Creation", "Closed Source", "Subscription"],
                features: ["Chỉnh sửa Video", "Tạo Video", "Chất lượng Video"],
                link: "https://runwayml.com/",
                icon: "🎬",
                useCase: ["Video & Audio", "Sáng tạo"],
                priority: 3,
                alias: ["video", "clip"]
            },
             {
                name: "Veo (Google DeepMind)",
                name_en: "Veo (Google DeepMind)",
                description: "Mô hình đối thủ của Sora, tạo ra video có độ phân giải cao (1080p) với khả năng kiểm soát chi tiết và chuyển động mượt mà. (Đang thử nghiệm)",
                description_en: "Sora competitor model, generating high-resolution (1080p) video with smooth motion and detailed control. (Currently in testing)",
                tags: ["Video", "Art", "Content Creation", "Closed Source", "Subscription", "Future Model"],
                features: ["Chất lượng Video", "Tốc độ Cao", "Tích hợp Google"],
                link: "https://deepmind.google/technologies/veo/",
                icon: "📽️",
                useCase: ["Video & Audio", "Sáng tạo", "Marketing"],
                priority: 3,
                alias: ["video", "clip", "google"]
            },
            {
                name: "GitHub Copilot",
                name_en: "GitHub Copilot",
                description: "Trợ lý lập trình AI, hỗ trợ viết code, gợi ý hàm và sửa lỗi, tăng tốc độ phát triển phần mềm.",
                description_en: "AI programming assistant that helps write code, suggest functions, and fix bugs, accelerating software development.",
                tags: ["Coding", "Automation", "Developer", "Closed Source", "Subscription", "Best Performance"],
                features: ["Hỗ trợ Code", "Tự động hóa", "Code Nhanh"],
                link: "https://github.com/features/copilot",
                icon: "💻",
                useCase: ["Lập trình", "Tự động hóa"],
                priority: 3,
                alias: ["code", "lập trình"]
            },
            {
                name: "IVS Adaptive Learning AI",
                name_en: "IVS Adaptive Learning AI",
                description: "Hệ thống học tập thích ứng độc quyền của IVS, tối ưu hóa lộ trình học tập và tự động đánh giá cho học viên EdTech.",
                description_en: "IVS's proprietary adaptive learning system, optimizing learning paths and automating assessment for EdTech students.",
                tags: ["EdTech", "Education", "Adaptive Learning", "AI Integration", "IVS Product", "Closed Source"],
                features: ["Chuyên EdTech", "Cá nhân hóa", "Bảo mật Cao", "Phân tích Dữ liệu"],
                link: "https://ivsacademy.edu.vn/",
                icon: "📚",
                useCase: ["Học tập", "Giáo dục"],
                priority: 3,
                alias: ["học", "edtech", "adaptive"]
            },
             {
                name: "DeepSeek / Qwen (Cloud)",
                name_en: "DeepSeek / Qwen (Cloud)",
                description: "Các mô hình LLM Mã Nguồn Mở, mạnh trong tiếng Trung và lập trình, có các bản demo chạy trên Cloud. Rất mạnh về thẩm mỹ giao diện lập trình.",
                description_en: "Open Source LLM models, strong in Chinese and coding, with demos running on Cloud. Highly praised for programming interface aesthetics.",
                tags: ["LLM", "Coding", "Research", "Open Source", "Free Tier"],
                features: ["Mã Nguồn Mở", "Miễn phí Tốt nhất", "Code Nhanh"],
                link: "https://www.deepseek.com/",
                icon: "🐉",
                useCase: ["Lập trình", "Học tập"],
                priority: 3,
                alias: ["code", "qwen"]
            },
            {
                name: "NotebookLM",
                name_en: "NotebookLM",
                description: "Trợ lý nghiên cứu của Google, giúp tổng hợp, phân tích và tạo ý tưởng từ tài liệu cá nhân của bạn (Google Drive/Docs).",
                description_en: "Google's research assistant, helping summarize, analyze, and generate ideas from your personal documents (Google Drive/Docs).",
                tags: ["Research", "Productivity", "LLM", "Closed Source", "Free Tier", "Google"],
                features: ["Miễn phí Tốt nhất", "Tích hợp Google", "Bảo mật Cao", "Ngữ cảnh Lớn"],
                link: "https://notebooklm.google/",
                icon: "📝",
                useCase: ["Học tập", "Viết lách", "Quản lý"],
                priority: 3,
                alias: ["docs", "nghiên cứu", "tài liệu"]
            },
            
            // CÁC LLM, TÌM KIẾM & NỀN TẢNG KHÁC - Priority 4
            {
                name: "Perplexity AI",
                name_en: "Perplexity AI",
                description: "Công cụ trả lời câu hỏi và tìm kiếm tập trung vào việc cung cấp các trích dẫn nguồn chi tiết, rất tốt cho nghiên cứu.",
                description_en: "A Q&A and search tool focused on providing detailed source citations, excellent for research.",
                tags: ["Research", "LLM", "Information", "Closed Source", "Free Tier"],
                features: ["Miễn phí Tốt nhất", "Trích dẫn Tốt", "Thời gian Thực"],
                link: "https://www.perplexity.ai/",
                icon: "🔍",
                useCase: ["Học tập", "Research"],
                priority: 4,
                alias: ["tìm kiếm", "nghiên cứu", "search"]
            },
            {
                name: "Notion AI",
                name_en: "Notion AI",
                description: "Công cụ AI tích hợp trong Notion, dùng để tóm tắt tài liệu, brainstorm, viết blog và quản lý công việc.",
                description_en: "AI tool integrated into Notion, used for summarizing documents, brainstorming, blog writing, and task management.",
                tags: ["Productivity", "Writing", "Research", "Management", "Closed Source", "Subscription"],
                features: ["Tích hợp Notion", "Quản lý Dự án", "Tự động hóa"],
                link: "https://www.notion.so/product/ai",
                icon: "🧠",
                useCase: ["Viết lách", "Học tập", "Quản lý"],
                priority: 4,
                alias: ["quản lý", "tóm tắt", "note"]
            },
            {
                name: "Pika Labs",
                name_en: "Pika Labs",
                description: "Đối thủ cạnh tranh mạnh của Sora/Veo, dễ tiếp cận hơn cho người dùng phổ thông để tạo video ngắn và animation.",
                description_en: "Strong competitor to Sora/Veo, highly accessible for general users to create short videos and animations.",
                tags: ["Video", "Art", "Content Creation", "Closed Source", "Free Tier"],
                features: ["Miễn phí Tốt nhất", "Dễ sử dụng", "Tạo Video"],
                link: "https://pika.art/",
                icon: "🌟",
                useCase: ["Video & Audio", "Sáng tạo", "Marketing"],
                priority: 4,
                alias: ["video", "animation", "clip"]
            },
            {
                name: "HeyGen",
                name_en: "HeyGen",
                description: "Chuyên tạo ra các Avatar AI nói chuyện (talking avatars) từ văn bản, rất hữu ích cho các bài giảng hoặc video marketing.",
                description_en: "Specializes in creating talking AI Avatars from text, highly useful for lectures or marketing videos.",
                tags: ["Video", "Presentation", "Business", "Closed Source", "Subscription"],
                features: ["Avatar AI", "Marketing", "Chất lượng Video"],
                link: "https://www.heygen.com/",
                icon: "🤵",
                useCase: ["Video & Audio", "Kinh doanh"],
                priority: 4,
                alias: ["avatar", "video"]
            },
            {
                name: "Meta AI / Llama 3 (Cloud)",
                name_en: "Meta AI / Llama 3 (Cloud)",
                description: "Trợ lý AI được tích hợp miễn phí vào Facebook, Instagram và WhatsApp. Tận dụng sức mạnh của mô hình Llama 3.",
                description_en: "AI assistant integrated for free into Facebook, Instagram, and WhatsApp. Leverages the power of the Llama 3 model.",
                tags: ["LLM", "Text", "Social Media", "Open Source", "Free Tier"],
                features: ["Tích hợp MXH", "Miễn phí Tốt nhất", "Giao tiếp Tự nhiên"],
                link: "https://ai.meta.com/",
                icon: "💬",
                useCase: ["Viết lách", "Sáng tạo", "Marketing"],
                priority: 4,
                alias: ["facebook", "meta", "chat"]
            },
            {
                name: "Gamma.app",
                name_en: "Gamma.app",
                description: "Tạo bài thuyết trình, văn bản hoặc trang web chuyên nghiệp chỉ từ một prompt ngắn. Tự động hóa sáng tạo nội dung.",
                description_en: "Generates professional presentations, documents, or websites from just a short prompt. Automates content creation.",
                tags: ["Presentation", "Design", "Business", "Automation", "Closed Source", "Free Tier"],
                features: ["Miễn phí Tốt nhất", "Tạo Slide", "Dễ sử dụng"],
                link: "https://gamma.app/",
                icon: "📊",
                useCase: ["Viết lách", "Thiết kế", "Kinh doanh"],
                priority: 4,
                alias: ["ppt", "powerpoint", "slide", "thuyết trình", "bài giảng"]
            },
            {
                name: "Zapier AI (Automation)",
                name_en: "Zapier AI (Automation)",
                description: "Nền tảng tự động hóa hàng đầu, tích hợp AI để xây dựng các workflow tự động phức tạp (RPA) giữa hơn 6000 ứng dụng kinh doanh.",
                description_en: "Leading automation platform, integrating AI to build complex automated workflows (RPA) between over 6,000 business applications.",
                tags: ["Automation", "Business", "RPA", "Closed Source", "Subscription"],
                features: ["Tự động hóa", "Tích hợp Ứng dụng", "Kinh doanh"],
                link: "https://zapier.com/ai",
                icon: "🔗",
                useCase: ["Lập trình", "Tự động hóa", "Quản lý"],
                priority: 4,
                alias: ["rpa", "workflow", "tự động hóa"]
            },
            {
                name: "Dataiku / Akkio",
                name_en: "Dataiku / Akkio",
                description: "Nền tảng tự động hóa Machine Learning (AutoML) giúp phân tích dữ liệu doanh nghiệp, tạo ra các mô hình dự đoán và BI bằng AI.",
                description_en: "Automated Machine Learning (AutoML) platforms helping analyze business data, create predictive models, and AI-powered Business Intelligence (BI).",
                tags: ["Data Analysis", "Machine Learning", "Business", "Subscription", "BI"],
                features: ["Phân tích Dữ liệu", "Lập luận Cao", "Kinh doanh"],
                link: "https://www.dataiku.com/",
                icon: "📈",
                useCase: ["Học tập", "Phân tích", "Quản lý"],
                priority: 4,
                alias: ["dữ liệu", "bi", "data"]
            },
            
            // CÁC CÔNG CỤ OPEN SOURCE/LOCAL/NICHE - Priority 9 (Thấp nhất)
            {
                name: "LM Studio",
                name_en: "LM Studio",
                description: "Ứng dụng máy tính để tải và chạy các mô hình LLM Mã Nguồn Mở ngay trên máy cá nhân, không cần Internet. Giao diện đơn giản, dễ dùng hơn Ollama.",
                description_en: "Desktop application to download and run Open Source LLMs directly on your personal computer, no internet needed. Easier UI than Ollama.",
                tags: ["LLM", "Local/Offline", "Open Source", "Coding", "Free Tier"],
                features: ["Miễn phí Tốt nhất", "Bảo mật Cao", "Local", "Cần Cấu hình Mạnh (GPU)", "Dễ sử dụng"],
                link: "https://lmstudio.ai/",
                icon: "🖥️",
                useCase: ["Lập trình", "Học tập"],
                priority: 9,
                alias: ["offline", "máy tính", "bảo mật"]
            },
            {
                name: "Ollama (Local AI Runtime)",
                name_en: "Ollama (Local AI Runtime)",
                description: "Nền tảng đơn giản để chạy các mô hình AI Mã Nguồn Mở (như Llama 3) ngay trên máy tính cá nhân. Bảo mật và miễn phí.",
                description_en: "Simple platform to run Open Source AI models (like Llama 3) directly on a personal computer. Secure and free.",
                tags: ["LLM", "Local/Offline", "Open Source", "Coding", "Free Tier"],
                features: ["Miễn phí Tốt nhất", "Bảo mật Cao", "Local", "Cần Kiến thức Kỹ thuật"],
                link: "https://ollama.com/",
                icon: "💾",
                useCase: ["Lập trình", "Học tập"],
                priority: 9,
                alias: ["offline", "máy tính", "bảo mật"]
            },
            {
                name: "Llama 3 (Self-hosted)",
                name_en: "Llama 3 (Self-hosted)",
                description: "Mô hình LLM Mã Nguồn Mở tốt nhất từ Meta, có thể cài đặt và chạy hoàn toàn ngoại tuyến trên máy tính cấu hình cao.",
                description_en: "Meta's best Open Source LLM model, can be installed and run completely offline on a powerful computer.",
                tags: ["LLM", "Local/Offline", "Open Source", "Research", "Free Tier"],
                features: ["Bảo mật Cao", "Local", "Mã Nguồn Mở", "Cần Kiến thức Kỹ thuật", "Cần Cấu hình Mạnh (GPU)"],
                link: "https://llama.meta.com/",
                icon: "🦙",
                useCase: ["Viết lách", "Học tập", "Lập trình"], 
                priority: 9,
                alias: ["offline", "llama", "meta"]
            },
            {
                name: "Stable Diffusion",
                name_en: "Stable Diffusion",
                description: "Mô hình tạo ảnh Mã Nguồn Mở hàng đầu. Cho phép tùy chỉnh và chạy Local/Offline, phù hợp cho lập trình viên và người dùng chuyên sâu.",
                description_en: "Leading Open Source image generation model. Allows customization and running Local/Offline, suitable for developers and advanced users.",
                tags: ["Image", "Art", "Open Source", "Local/Offline", "Free Tier"],
                features: ["Mã Nguồn Mở", "Local", "Miễn phí Tốt nhất", "Cần Cấu hình Mạnh (GPU)", "Chất lượng Ảnh"],
                link: "https://stability.ai/stablediffusion",
                icon: "🧪",
                useCase: ["Hình ảnh", "Lập trình", "Sáng tạo"],
                priority: 9,
                alias: ["ảnh", "vẽ", "miễn phí"]
            },
            {
                name: "Grok (xAI)",
                name_en: "Grok (xAI)",
                description: "LLM có tích hợp thông tin thời gian thực từ X (Twitter), mang tính hài hước và thường ưu tiên các chủ đề tranh luận.",
                description_en: "LLM with real-time information integration from X (Twitter), known for its humorous tone and often prioritizing controversial topics.",
                tags: ["LLM", "Real-time", "Closed Source", "Subscription"],
                features: ["Thời gian Thực", "Ngữ cảnh Lớn", "Giao tiếp Tự nhiên", "Tích hợp MXH"],
                link: "https://grok.x.ai/",
                icon: "🌌",
                useCase: ["Viết lách", "Marketing", "Research"],
                priority: 9,
                alias: ["xai", "elon", "twitter"]
            }
        ];

        // Sắp xếp mặc định: ưu tiên (asc) -> name (asc)
        aiTools.sort((a, b) => {
            if (a.priority !== b.priority) {
                return a.priority - b.priority;
            }
            return a.name.localeCompare(b.name);
        });

        let currentUseCase = 'all';
        let currentTag = 'all';
        
        // --- CÁC HÀM XỬ LÝ GIAO DIỆN VÀ DỮ LIỆU ---

        // Hàm tạo thẻ công cụ AI
        function createToolCard(tool) {
            
            // Lấy tên và mô tả theo ngôn ngữ hiện tại
            const name = currentLang === 'en' ? (tool.name_en || tool.name) : tool.name;
            const description = currentLang === 'en' ? (tool.description_en || tool.description) : tool.description;
            
            // Tối ưu hóa hiển thị Tags với màu sắc phân loại
            const tagsHtml = tool.tags.map(tag => {
                let colorClass = 'bg-gray-700 text-gray-300';
                if (tag === 'IVS Product') {
                    colorClass = 'bg-purple-600 text-white font-bold';
                } else if (tag === 'Free Tier') {
                    colorClass = 'bg-green-600 text-white';
                } else if (tag === 'Subscription' || tag === 'Closed Source') {
                    colorClass = 'bg-red-600 text-white';
                } else if (tag === 'Hype' || tag === 'Real-time' || tag === 'Future Model') {
                    colorClass = 'bg-yellow-600 text-gray-900';
                } else if (tag === 'Open Source' || tag === 'Local/Offline') {
                    colorClass = 'bg-blue-600 text-white';
                }
                return `<span class="px-3 py-1 ${colorClass} rounded-full text-xs font-medium transition-transform transform hover:scale-110">${tag}</span>`;
            }).join('');

            // Tạo Feature Tags (đã dịch)
            const featureTagsHtml = tool.features.map(feature => {
                let featureClass = 'feature-default';
                if (feature.includes('Thông minh Nhất') || feature.includes('Best Performance')) featureClass = 'feature-best';
                else if (feature.includes('Miễn phí') || feature.includes('Best Free Tier')) featureClass = 'feature-free';
                else if (feature.includes('Tốc độ') || feature.includes('High Speed')) featureClass = 'feature-speed';
                else if (feature.includes('Ngữ cảnh Lớn') || feature.includes('Large Context') || feature.includes('Lập luận Cao') || feature.includes('High Reasoning') || feature.includes('Trích dẫn Tốt') || feature.includes('Good Citation')) featureClass = 'feature-context';
                else if (feature.includes('Giá Cao') || feature.includes('High Cost') || feature.includes('Cần Kiến thức Kỹ thuật') || feature.includes('Cần Cấu hình Mạnh (GPU)')) featureClass = 'feature-expensive'; 
                else featureClass = 'feature-default';
                
                const translatedFeature = translateFeature(feature);
                
                // Sử dụng SVG icon cho Feature (Tùy chọn)
                let icon = '';
                if (translatedFeature.includes('Smartest') || translatedFeature.includes('Tốt nhất')) icon = `<svg class="w-3 h-3 mr-1" fill="currentColor" viewBox="0 0 20 20"><path d="M10 2a8 8 0 100 16 8 8 0 000-16zM6 10a4 4 0 118 0 4 4 0 01-8 0z" /></svg>`;
                else if (translatedFeature.includes('Free') || translatedFeature.includes('Miễn phí')) icon = `<svg class="w-3 h-3 mr-1" fill="currentColor" viewBox="0 0 20 20"><path d="M8 10a2 2 0 10-4 0 2 2 0 004 0zM12 10a2 2 0 10-4 0 2 2 0 004 0zM16 10a2 2 0 10-4 0 2 2 0 004 0z" /></svg>`;
                else if (translatedFeature.includes('Context') || translatedFeature.includes('Ngữ cảnh')) icon = `<svg class="w-3 h-3 mr-1" fill="currentColor" viewBox="0 0 20 20"><path d="M7 3a1 1 0 00-1 1v1a1 1 0 002 0V4a1 1 0 00-1-1zM4 7a1 1 0 011-1h10a1 1 0 110 2H5a1 1 0 01-1-1zM7 11a1 1 0 00-1 1v1a1 1 0 002 0v-1a1 1 0 00-1-1zM10 11a1 1 0 00-1 1v1a1 1 0 002 0v-1a1 1 0 00-1-1zM13 11a1 1 0 00-1 1v1a1 1 0 002 0v-1a1 1 0 00-1-1z" /></svg>`;
                else if (translatedFeature.includes('Cost') || translatedFeature.includes('Giá Cao') || translatedFeature.includes('Technical') || translatedFeature.includes('Cấu hình')) icon = `<svg class="w-3 h-3 mr-1" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zM7 9a1 1 0 012 0v2a1 1 0 11-2 0V9zM11 9a1 1 0 112 0v2a1 1 0 11-2 0V9zM16 10a2 2 0 10-4 0 2 2 0 004 0z" clip-rule="evenodd" /></svg>`;
                else icon = `<svg class="w-3 h-3 mr-1" fill="currentColor" viewBox="0 0 20 20"><path d="M2 5a2 2 0 012-2h12a2 2 0 012 2v10a2 2 0 01-2 2H4a2 2 0 01-2-2V5zm10 2a1 1 0 00-1 1v4a1 1 0 102 0V8a1 1 0 00-1-1z" /></svg>`;


                return `<span class="feature-tag ${featureClass} shadow-md">${icon} ${translatedFeature}</span>`;
            }).join('');

            // Tăng cường hiệu ứng hover của nút liên kết (Link Button)
            return `
                <a href="${tool.link}" target="_blank" rel="noopener noreferrer" class="tool-card p-6 flex flex-col justify-between group">
                    <div>
                        <div class="flex items-start space-x-3 mb-3">
                            <span class="text-3xl flex-shrink-0 mt-1">${tool.icon}</span>
                            <div class="flex-1">
                                <h3 class="text-xl font-bold text-gray-100 group-hover:text-purple-400 transition-colors">${name}</h3>
                                <p class="text-gray-400 mt-1 text-sm">${description}</p>
                            </div>
                        </div>
                        <div class="mb-4 pt-2 border-t border-gray-700">${featureTagsHtml}</div>
                    </div>
                    <div class="flex justify-between items-center pt-2">
                        <span class="text-sm font-semibold text-purple-400 transition-colors group-hover:text-white group-hover:underline">
                            ${currentLang === 'en' ? 'Access Tool →' : 'Truy cập Công cụ →'}
                        </span>
                        <div class="flex flex-wrap gap-1">
                            ${tagsHtml}
                        </div>
                    </div>
                </a>
            `;
        }

        // Hàm hiển thị danh sách công cụ
        function renderTools(tools) {
            const listContainer = document.getElementById('toolsList');
            const noResults = document.getElementById('noResults');

            // Thêm hiệu ứng fade-out trước khi render mới
            listContainer.style.opacity = 0;
            setTimeout(() => {
                if (tools.length === 0) {
                    listContainer.innerHTML = '';
                    noResults.classList.remove('hidden');
                } else {
                    listContainer.innerHTML = tools.map(createToolCard).join('');
                    noResults.classList.add('hidden');
                }
                // Thêm hiệu ứng fade-in
                listContainer.style.opacity = 1;
            }, 100); 
        }

        // Hàm tạo nút lọc (Filter buttons - Tags)
        function generateTagButtons() {
            const prioritizedTags = ["LLM", "Future Model", "Hype", "Video", "Image", "Open Source", "Local/Offline", "Closed Source", "IVS Product", "Free Tier", "Subscription", "Coding", "Education", "Real-time", "Automation", "Research", "Data Analysis", "Business", "Productivity", "TTS", "Art", "Design", "Presentation", "Social Media", "Management"];
            const allTags = new Set(prioritizedTags);
            
            aiTools.forEach(tool => {
                tool.tags.forEach(tag => allTags.add(tag));
            });

            const filterContainer = document.getElementById('filterButtons');
            
            // Xóa hết nút cũ (trừ tiêu đề 'Lọc theo Tags:')
            while (filterContainer.children.length > 1) {
                filterContainer.removeChild(filterContainer.lastChild);
            }
            
            const sortedTags = Array.from(allTags).filter(tag => tag !== "all").sort((a, b) => {
                const indexA = prioritizedTags.indexOf(a);
                const indexB = prioritizedTags.indexOf(b);
                
                // Giữ nguyên thứ tự ưu tiên, còn lại sắp xếp theo alphabet
                if (indexA !== -1 && indexB !== -1) return indexA - indexB;
                if (indexA !== -1) return -1;
                if (indexB !== -1) return 1;
                
                return a.localeCompare(b);
            });

            // Thêm nút "Tất cả Tags" đầu tiên
            const allTagBtn = document.createElement('button');
            allTagBtn.className = 'filter-btn px-3 py-1 text-sm rounded-full bg-gray-200 text-gray-700 hover:bg-purple-600 hover:text-white transition whitespace-nowrap active shadow-md';
            allTagBtn.setAttribute('data-filter', 'all');
            // Cập nhật text cho nút All Tags dựa trên ngôn ngữ hiện tại
            allTagBtn.textContent = currentLang === 'en' ? 'All Tags' : 'Tất cả Tags';
            allTagBtn.onclick = () => selectTag('all');
            filterContainer.appendChild(allTagBtn);


            sortedTags.forEach(tag => {
                const button = document.createElement('button');
                button.className = 'filter-btn px-3 py-1 text-sm rounded-full bg-gray-100 text-gray-700 hover:bg-purple-600 hover:text-white transition whitespace-nowrap shadow-md';
                button.setAttribute('data-filter', tag);
                button.textContent = tag;
                button.onclick = () => selectTag(tag);
                filterContainer.appendChild(button);
            });
        }

        // Hàm chọn nút Lọc Chính (Use Case)
        function selectUseCase(useCase) {
            currentUseCase = useCase;
            currentTag = 'all'; // Reset Tag filter khi chọn Use Case mới
            
            // Highlight nút Use Case (với hiệu ứng transform)
            document.querySelectorAll('.usecase-btn').forEach(btn => {
                btn.classList.remove('active');
                btn.classList.remove('transform', 'scale-95'); // Reset scale khi chọn nút khác
                btn.style.borderColor = 'transparent';
                if (btn.getAttribute('data-filter') === useCase) {
                    btn.classList.add('active');
                    btn.style.borderColor = '#ffffff';
                }
            });

            // Reset và Highlight nút Tag "Tất cả Tags"
            document.querySelectorAll('.filter-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            const allTagBtn = document.querySelector('.filter-btn[data-filter="all"]');
            if (allTagBtn) allTagBtn.classList.add('active');

            // Xóa nội dung tìm kiếm
            document.getElementById('searchInput').value = ''; 
            filterTools();
        }

        // Hàm chọn nút Lọc Phụ (Tag)
        function selectTag(tag) {
            currentTag = tag;
            
            // Highlight nút Tag
            document.querySelectorAll('.filter-btn').forEach(btn => {
                btn.classList.remove('active');
                if (btn.getAttribute('data-filter') === tag) {
                    btn.classList.add('active');
                }
            });

            // Xóa nội dung tìm kiếm
            document.getElementById('searchInput').value = ''; 
            filterTools();
        }

        // Hàm lọc chính
        function filterTools() {
            const searchTerm = document.getElementById('searchInput').value.toLowerCase().trim();
            
            const filtered = aiTools.filter(tool => {
                
                // 1. Lọc theo Tìm kiếm (Tùy chọn) - ƯU TIÊN SỐ 1 KHI CÓ TEXT
                if (searchTerm.length > 0) {
                    // Kiểm tra tên (vi/en), mô tả (vi/en), tags và alias
                    return (
                        tool.name.toLowerCase().includes(searchTerm) ||
                        (tool.name_en && tool.name_en.toLowerCase().includes(searchTerm)) ||
                        tool.description.toLowerCase().includes(searchTerm) ||
                        (tool.description_en && tool.description_en.toLowerCase().includes(searchTerm)) ||
                        tool.tags.some(tag => tag.toLowerCase().includes(searchTerm.toLowerCase())) ||
                        tool.alias.some(alias => alias.toLowerCase().includes(searchTerm.toLowerCase()))
                    );
                }

                // 2. Lọc theo Use Case (Khi không có text tìm kiếm)
                let matchesUseCase = currentUseCase === 'all' || tool.useCase.includes(currentUseCase);
                
                // 3. Lọc theo Tag (Khi không có text tìm kiếm)
                let matchesTag = currentTag === 'all' || tool.tags.includes(currentTag);
                
                return matchesUseCase && matchesTag;
            });
            
            // Sắp xếp lại sau khi lọc theo tiêu chí ưu tiên
            filtered.sort((a, b) => {
                if (a.priority !== b.priority) {
                    return a.priority - b.priority;
                }
                return a.name.localeCompare(b.name);
            });

            renderTools(filtered);
        }
        
        // --- Smooth Scroll Logic (Cải tiến để kéo mượt mà) ---
        function initSmoothScroll() {
            document.querySelectorAll('.fab-menu-link').forEach(anchor => {
                anchor.addEventListener('click', function (e) {
                    e.preventDefault();
                    const targetId = this.getAttribute('href');
                    const targetElement = document.querySelector(targetId);
                    if (targetElement) {
                        targetElement.scrollIntoView({
                            behavior: 'smooth',
                            block: 'start'
                        });
                    }
                });
            });
        }

        // Hàm cuộn mượt về đầu trang
        function scrollToTop() {
            window.scrollTo({
                top: 0,
                behavior: 'smooth'
            });
        }
        window.scrollToTop = scrollToTop;


        // Logic hiển thị/ẩn nút Scroll to Top
        window.onscroll = function() {
            const btn = document.getElementById("scroll-to-top-btn");
            if (document.body.scrollTop > 300 || document.documentElement.scrollTop > 300) {
                btn.style.display = "flex";
                btn.style.opacity = 1;
            } else {
                btn.style.opacity = 0;
                // Dùng setTimeout để ẩn sau khi fade-out
                setTimeout(() => {
                    if (document.body.scrollTop < 300 && document.documentElement.scrollTop < 300) {
                        btn.style.display = "none";
                    }
                }, 300);
            }
        };

        // Khởi tạo trang
        document.addEventListener('DOMContentLoaded', () => {
            initLanguageSwitcher();
            generateTagButtons();
            filterTools(); // Gọi filterTools để render và sắp xếp ban đầu
            initSmoothScroll(); // Khởi tạo cuộn mượt

            // Khôi phục trạng thái active cho nút UseCase (do filterTools đã reset tag)
            const activeUseCaseBtn = document.querySelector(`.usecase-btn[data-filter="${currentUseCase}"]`);
            if(activeUseCaseBtn) {
                 activeUseCaseBtn.classList.add('active');
                 activeUseCaseBtn.style.borderColor = '#ffffff';
            }


            // Lắng nghe sự kiện ESC để đóng modal
            document.addEventListener('keydown', function(event) {
                if (event.key === 'Escape' || event.key === 'Esc') {
                    if (document.getElementById('tipsModal').classList.contains('visible')) {
                        hideTipsModal();
                    }
                }
            });

            // Lắng nghe click ngoài modal để đóng
            document.getElementById('tipsModal').addEventListener('click', function(e) {
                if (e.target === this) {
                    hideTipsModal();
                }
            });
        });
    </script>

</body>
</html>
